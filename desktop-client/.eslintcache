[{"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\index.js":"1","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\App.js":"2","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Home.js":"3","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PageNotFoundError.js":"4","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Profile.js":"5","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Posts.js":"6","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Login.js":"7","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Navbar.js":"8","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostTypeContext.js":"9","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\CreateBox.js":"10","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\GeneralBox.js":"11","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\RecommendationBox.js":"12","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\AskForSuggestionsBox.js":"13","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\DiaryBox.js":"14","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\Container.js":"15","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\MovieSearch.js":"16","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\AskForSuggestionsBox.js":"17","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\RecommendationBox.js":"18","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\GeneralBox.js":"19","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\DiaryBox.js":"20","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\SelectedImage.js":"21","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoForm.js":"22","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\Comment.js":"23","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoBox.js":"24","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Movie.js":"25","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostsFetchTypeContext.js":"26","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\MovieInfoBox.js":"27"},{"size":224,"mtime":1609453553930,"results":"28","hashOfConfig":"29"},{"size":812,"mtime":1609776561002,"results":"30","hashOfConfig":"29"},{"size":1906,"mtime":1609781875963,"results":"31","hashOfConfig":"29"},{"size":125,"mtime":1609780382126,"results":"32","hashOfConfig":"29"},{"size":4124,"mtime":1609789123782,"results":"33","hashOfConfig":"29"},{"size":12825,"mtime":1609789753936,"results":"34","hashOfConfig":"29"},{"size":990,"mtime":1609794524455,"results":"35","hashOfConfig":"29"},{"size":2917,"mtime":1609781827650,"results":"36","hashOfConfig":"29"},{"size":187,"mtime":1609708387453,"results":"37","hashOfConfig":"29"},{"size":2308,"mtime":1609789465983,"results":"38","hashOfConfig":"29"},{"size":11063,"mtime":1609784200958,"results":"39","hashOfConfig":"29"},{"size":10579,"mtime":1609784329706,"results":"40","hashOfConfig":"29"},{"size":8815,"mtime":1609782731427,"results":"41","hashOfConfig":"29"},{"size":11188,"mtime":1609784142999,"results":"42","hashOfConfig":"29"},{"size":12010,"mtime":1609789835288,"results":"43","hashOfConfig":"29"},{"size":2674,"mtime":1609715456458,"results":"44","hashOfConfig":"29"},{"size":3841,"mtime":1609778365464,"results":"45","hashOfConfig":"29"},{"size":6313,"mtime":1609776561180,"results":"46","hashOfConfig":"29"},{"size":4916,"mtime":1609776561168,"results":"47","hashOfConfig":"29"},{"size":5343,"mtime":1609785974177,"results":"48","hashOfConfig":"29"},{"size":2478,"mtime":1609107597065,"results":"49","hashOfConfig":"29"},{"size":8173,"mtime":1609776561107,"results":"50","hashOfConfig":"29"},{"size":4150,"mtime":1609779630355,"results":"51","hashOfConfig":"29"},{"size":2712,"mtime":1609789181844,"results":"52","hashOfConfig":"29"},{"size":1846,"mtime":1609793771688,"results":"53","hashOfConfig":"29"},{"size":153,"mtime":1609708387456,"results":"54","hashOfConfig":"29"},{"size":3302,"mtime":1609793367050,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"ttzoo",{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"58"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"58"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"58"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"58"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"58"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"58"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"58"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"58"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"58"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"58"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"58"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"58"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"58"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"58"},"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\index.js",[],["130","131"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\App.js",["132"],"import { Route, Switch } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport Home from './components/Home';\r\nimport Profile from './components/Profile';\r\nimport Movie from './components/Movie';\r\nimport PageNotFoundError from './components/PageNotFoundError';\r\nimport './App.scss';\r\n\r\nexport default function App(props) {\r\n  return (\r\n    <main>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home}/>\r\n        <Route path=\"/profile/:creatorId\" exact render={(props) => {\r\n          return <Profile creatorId={props.match.params.creatorId}/>\r\n        }}/>\r\n        <Route path=\"/movie/:movieId\" exact render={(props) => {\r\n          return <Movie movieId={props.match.params.movieId}/>\r\n        }}/>\r\n\t      <Route component={PageNotFoundError} />\r\n      </Switch>\r\n    </main>\r\n  )\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Home.js",["133","134"],"import { useEffect, useState, useContext } from 'react';\r\nimport Posts from './Posts';\r\nimport Login from './Login';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport PostsFetchTypeContext from './PostsFetchTypeContext';\r\nimport Navbar from './Navbar';\r\nimport {\r\n  BrowserView,\r\n  MobileView\r\n} from \"react-device-detect\";\r\n\r\nexport default function Home(props) {\r\n  const USER_NOT_SET = \"userNotSet\";\r\n  const [user, setUser] = useState(USER_NOT_SET);\r\n  const [paddingTop, setPaddingTop] = useState(\"0em\");\r\n  const PostsFetchType = useContext(PostsFetchTypeContext);\r\n  useEffect(() => {\r\n    fetch('/auth/isLoggedIn', {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(res => {\r\n      if (res !== undefined && res.user.nickname !== undefined) {\r\n        setPaddingTop(\"5em\");\r\n        setUser({...res.user, profileImageUrlCropped: res.profileImageUrlCropped, profileImageUrlOriginal: res.profileImageUrlOriginal});\r\n      } else if (res === undefined) {\r\n        setUser(res);\r\n      } else if (res.user.nickname === undefined) {\r\n        setUser(res.user);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  function renderPage() {\r\n    if (user !== USER_NOT_SET && user !== undefined) {\r\n      if (user.nickname) {\r\n        return <Posts user={user} postRoute={PostsFetchType.ALL}/>;\r\n      }\r\n      return <UserInfoForm user={user}/>\r\n    } else {\r\n      return <Login />;\r\n    }\r\n  }\r\n\r\n  return <div>\r\n    {(user !== USER_NOT_SET && user !== undefined && user.nickname !== undefined) && <Navbar userId={user._id}/>}\r\n    <div id=\"feed\" style={{position: \"relative\", padding: \"1em\", textAlign: \"center\", paddingTop: paddingTop}}>\r\n      {user !== USER_NOT_SET && renderPage(true)}\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PageNotFoundError.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Profile.js",["135","136","137"],"import React, { useState, useEffect, useContext } from 'react';\r\nimport UserInfoBox from './UserInfoBox';\r\nimport Posts from './Posts';\r\nimport PostsFetchTypeContext from './PostsFetchTypeContext';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport Navbar from './Navbar';\r\nimport {\r\n  BrowserView,\r\n  MobileView\r\n} from \"react-device-detect\";\r\n\r\nexport default function Profile(props) {\r\n  const USER_NOT_SET = \"userNotSet\";\r\n  const CREATOR_NOT_SET = \"creatorNotSet\";\r\n  const [user, setUser] = useState(USER_NOT_SET);\r\n  const [creator, setCreator] = useState(CREATOR_NOT_SET);\r\n  const PostsFetchType = useContext(PostsFetchTypeContext);\r\n  const [userInfoFormDisplayed, setUserInfoFormDisplayed] = useState(false);\r\n  const [unableDeleteAccount, setUnableDeleteAccount] = useState(false);\r\n  const {creatorId} = props;\r\n\r\n  function setEditedUserProfile(editedUser) {\r\n    setUser(editedUser);\r\n  }\r\n\r\n  function displayUserInfoForm() {\r\n    setUserInfoFormDisplayed(true);\r\n  }\r\n\r\n  function undisplayUserInfoForm() {\r\n    setUserInfoFormDisplayed(false);\r\n  }\r\n\r\n  function addOrDeletePost(addedPost) {\r\n    var adder;\r\n    if (addedPost) {\r\n      adder = 1;\r\n    } else {\r\n      adder = -1;\r\n    }\r\n    setUser(prevData => {\r\n      return {...prevData, numOfPosts: prevData.numOfPosts + adder};\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n    const signal = ac.signal;\r\n    fetch('/auth/isLoggedIn', {\r\n      signal: signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(res => {\r\n      if (res === undefined) {\r\n        window.open(\"/auth/google\", \"_self\");\r\n      } else {\r\n        if (res.user.nickname === undefined) {\r\n          window.open(\"/\", \"_self\");\r\n        }\r\n        setUser({...res.user, profileImageUrlOriginal: res.profileImageUrlOriginal, profileImageUrlCropped: res.profileImageUrlCropped});\r\n\r\n      }\r\n    })\r\n    const formData = new FormData();\r\n    formData.append('userId', creatorId);\r\n    fetch('/user/getProfile', {method: 'POST', signal: signal, body: formData})\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(res => {\r\n      setCreator({...res.user, profileImageUrl: res.profileImageUrl});\r\n    })\r\n    .catch(err => console.log(err));\r\n\r\n    return () => ac.abort();\r\n  }, [creatorId]);\r\n\r\n  return <div>\r\n  {(user !== USER_NOT_SET && user !== undefined && user.nickname !== undefined) && <Navbar userId={user._id}/>}\r\n  <div id=\"feed\" style={{position: \"relative\", padding: \"1em\", textAlign: \"center\", paddingTop: \"5em\"}}>\r\n      <BrowserView>\r\n      {(user !== USER_NOT_SET && creator !== CREATOR_NOT_SET && creator !== undefined) && <div>\r\n        <UserInfoBox\r\n          user={user}\r\n          creator={creator}\r\n          displayUserInfoForm={displayUserInfoForm}/>\r\n        <Posts user={user} notCreateBox={user._id !== creator._id && true} addOrDeletePost={addOrDeletePost} postRoute={PostsFetchType.CREATOR} creatorId={creatorId}/>\r\n        {(userInfoFormDisplayed && user._id === creatorId) && <UserInfoForm\r\n          user={user}\r\n          userInfoFormDisplayed={userInfoFormDisplayed}\r\n          style={{position: \"absolute\"}}\r\n          undisplayUserInfoForm={undisplayUserInfoForm}/>}\r\n      </div>}\r\n      </BrowserView>\r\n      <MobileView>\r\n      {(user !== USER_NOT_SET && creator !== CREATOR_NOT_SET && creator !== undefined) && <div>\r\n        <UserInfoBox\r\n          user={user}\r\n          creator={creator}\r\n          displayUserInfoForm={displayUserInfoForm}/>\r\n        <Posts user={user} notCreateBox={user._id !== creator._id && true} addOrDeletePost={addOrDeletePost} postRoute={PostsFetchType.CREATOR} creatorId={creatorId}/>\r\n        {(userInfoFormDisplayed && user._id === creatorId) && <UserInfoForm\r\n          user={user}\r\n          userInfoFormDisplayed={userInfoFormDisplayed}\r\n          style={{position: \"absolute\"}}\r\n          undisplayUserInfoForm={undisplayUserInfoForm}/>}\r\n      </div>}\r\n      </MobileView>\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Posts.js",["138"],"import {useState, useEffect, useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CreateBox from './create/CreateBox';\r\nimport Container from './create/Container';\r\nimport DisplayDiaryBox from './display/DiaryBox';\r\nimport DisplayGeneralBox from './display/GeneralBox';\r\nimport DisplayRecommendationBox from './display/RecommendationBox';\r\nimport DisplayAskForSuggestionsBox from './display/AskForSuggestionsBox';\r\nimport PostTypeContext from './PostTypeContext';\r\nimport PostsFetchTypeContext from './PostsFetchTypeContext';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { css } from \"@emotion/core\";\r\nimport ClipLoader from \"react-spinners/RingLoader\";\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 200,\r\n  },\r\n});\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 13em;\r\n  border-color: red;\r\n`;\r\n\r\nexport default function Posts(props) {\r\n  const PostType = useContext(PostTypeContext);\r\n  const PostsFetchType = useContext(PostsFetchTypeContext);\r\n\r\n  const [isDisplayingLikers, setDisplayingLikers] = useState(false);\r\n  const [likersData, setLikersData] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [postData, setPostData] = useState({\r\n    posts: [],\r\n    urls: [],\r\n    liked: [],\r\n    creatorProfileImageUrls: []\r\n  });\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    if (props.postRoute === PostsFetchType.CREATOR) {\r\n      formData.append('creatorId', props.creatorId);\r\n    } else if (props.postRoute === PostsFetchType.MOVIE) {\r\n      formData.append('movieId', props.movieId);\r\n    }\r\n    fetch('/post/' + props.postRoute, {method: 'POST', body: formData})\r\n      .then(res => res.json())\r\n      .catch(err => console.log(err))\r\n      .then(res => {\r\n        setPostData(res);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, [props.postRoute, PostsFetchType.CREATOR, PostsFetchType.MOVIE, props.creatorId, props.movieId]);\r\n\r\n  const [createState, setCreateState] = useState({\r\n    isEditing: false,\r\n    type: null,\r\n    data: null\r\n  });\r\n\r\n  function handleAddPost(addedPostData) {\r\n    document.body.style.overflow = \"auto\";\r\n    setPostData(prevData => {\r\n      return {\r\n        posts: [addedPostData.post, ...prevData.posts],\r\n        urls: [addedPostData.urls, ...prevData.urls],\r\n        liked: [addedPostData.liked, ...prevData.liked],\r\n        creatorProfileImageUrls: [addedPostData.creatorProfileImageUrl, ...prevData.creatorProfileImageUrls]\r\n      }\r\n    });\r\n    setCreateState({isEditing: false, type: null, data: null});\r\n    if (props.addOrDeletePost) {\r\n      props.addOrDeletePost(true);\r\n    }\r\n  }\r\n\r\n  function handleEditPost(editedPostData) {\r\n    document.body.style.overflow = \"auto\";\r\n    setPostData(prevData => {\r\n      var previousPostDataFound = false;\r\n      for (var i = 0; i < prevData.posts.length; i++) {\r\n        if (prevData.posts[i]._id.trim() === editedPostData.post._id.trim()) {\r\n          prevData.posts[i] = editedPostData.post;\r\n          prevData.urls[i] = editedPostData.urls;\r\n          prevData.liked[i] = editedPostData.liked;\r\n          prevData.creatorProfileImageUrls[i] = editedPostData.creatorProfileImageUrl;\r\n          previousPostDataFound = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!previousPostDataFound) {\r\n        return {\r\n          posts: [editedPostData.post, ...prevData.posts],\r\n          urls: [editedPostData.urls, ...prevData.urls],\r\n          liked: [editedPostData.liked, ...prevData.liked],\r\n          creatorProfileImageUrls: [editedPostData.creatorProfileImageUrl, ...prevData.creatorProfileImageUrls]\r\n        }\r\n      } else {\r\n        return prevData;\r\n      }\r\n    });\r\n    setCreateState({isEditing: false, type: null, data: null});\r\n  }\r\n\r\n  function handleDeletePost(postId) {\r\n    document.body.style.overflow = \"auto\";\r\n    setPostData(prevData => {\r\n      const temp = {...prevData};\r\n      for (var i = 0; i < temp.posts.length; i++) {\r\n        if (temp.posts[i]._id.trim() === postId.trim()) {\r\n          temp.posts.splice(i, 1);\r\n          temp.urls.splice(i, 1);\r\n          temp.liked.splice(i, 1);\r\n          temp.creatorProfileImageUrls.splice(i, 1);\r\n          return temp;\r\n        }\r\n      }\r\n      return temp;\r\n    })\r\n    setCreateState({isEditing: false, type: null, data: null});\r\n    if (props.addOrDeletePost) {\r\n      props.addOrDeletePost(false);\r\n    }\r\n  }\r\n\r\n  const handlePostAction = {\r\n    handleAddPost: handleAddPost,\r\n    handleEditPost: handleEditPost,\r\n    handleDeletePost: handleDeletePost,\r\n    setLoading: setLoading\r\n  }\r\n\r\n  function handleEditClick(data) {\r\n    if (data.post.type === PostType.DIARY) {\r\n      document.body.style.overflow = \"hidden\";\r\n      setCreateState({isEditing: true, type: PostType.DIARY, data: data});\r\n    } else if (data.post.type === PostType.RECOMMENDATION) {\r\n      document.body.style.overflow = \"hidden\";\r\n      setCreateState({isEditing: true, type: PostType.RECOMMENDATION, data: data});\r\n    } else if (data.post.type === PostType.GENERAL) {\r\n      document.body.style.overflow = \"hidden\";\r\n      setCreateState({isEditing: true, type: PostType.GENERAL, data: data});\r\n    } else if (data.post.type === PostType.ASK_SUGGESTION) {\r\n      document.body.style.overflow = \"hidden\";\r\n      setCreateState({isEditing: true, type: PostType.ASK_SUGGESTION, data: data});\r\n    }\r\n  }\r\n\r\n  function handleExitClick() {\r\n    document.body.style.overflow = \"auto\";\r\n    setCreateState({isEditing: false, type: null, data: null});\r\n  }\r\n\r\n  function handleCreatePostClick(event) {\r\n    var name;\r\n    if (event.target.name) {\r\n      name = event.target.name;\r\n    } else if (event.target.id) {\r\n      name = event.target.id;\r\n    }\r\n    if (name === PostType.GENERAL) {\r\n      if (isBrowser) {\r\n        document.body.style.overflow = \"hidden\";\r\n      }\r\n      setCreateState(prevData => {\r\n        return {...prevData, type: PostType.GENERAL};\r\n      })\r\n    } else if (name === PostType.RECOMMENDATION) {\r\n      if (isBrowser) {\r\n        document.body.style.overflow = \"hidden\";\r\n      }\r\n      setCreateState(prevData => {\r\n        return {...prevData, type: PostType.RECOMMENDATION};\r\n      })\r\n    } else if (name === PostType.DIARY) {\r\n      if (isBrowser) {\r\n        document.body.style.overflow = \"hidden\";\r\n      }\r\n      setCreateState(prevData => {\r\n        return {...prevData, type: PostType.DIARY};\r\n      })\r\n    } else if (name === PostType.ASK_SUGGESTION){\r\n      if (isBrowser) {\r\n        document.body.style.overflow = \"hidden\";\r\n      }\r\n      setCreateState(prevData => {\r\n        return {...prevData, type: PostType.ASK_SUGGESTION};\r\n      })\r\n    }\r\n  }\r\n\r\n  function displayLikers(postId) {\r\n    const formData = new FormData();\r\n    formData.append('postId', postId);\r\n    fetch('/post/getLikers', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(postLikes => {\r\n          setLikersData(postLikes.likers.map((liker, index) => {\r\n            return {\r\n              liker: liker,\r\n              likerUrl: postLikes.likerUrls[index]\r\n            }\r\n          }))\r\n          if (isBrowser) {\r\n            document.body.style.overflow = \"hidden\";\r\n          }\r\n          setDisplayingLikers(true);\r\n        })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loading ? <div className=\"sweet-loading\">\r\n        <ClipLoader color={\"#4287f5\"} loading={loading} css={override} size={200} />\r\n      </div> : <div>\r\n      <div\r\n        style={{\r\n          opacity: (isDisplayingLikers || createState.type) ? \"0.1\" : \"1\",\r\n          pointerEvents: (isDisplayingLikers || createState.type) ? \"none\": \"auto\",\r\n        }}>\r\n        {props.notCreateBox === undefined && <CreateBox handleClick={handleCreatePostClick}/>}\r\n        {postData.posts.map((post, index) => {\r\n          if (post.type === PostType.DIARY) {\r\n            return <DisplayDiaryBox\r\n              key={post._id}\r\n              post={post}\r\n              creatorProfileImageUrl={postData.creatorProfileImageUrls[index]}\r\n              urls={postData.urls[index]}\r\n              liked={postData.liked[index]}\r\n              handleEditClick={handleEditClick}\r\n              userId={props.user._id}\r\n              userProfileImageUrl={props.user.profileImageUrlCropped}\r\n              displayLikers={displayLikers}/>\r\n          } else if (post.type === PostType.RECOMMENDATION) {\r\n            return <DisplayRecommendationBox\r\n              key={post._id}\r\n              post={post}\r\n              creatorProfileImageUrl={postData.creatorProfileImageUrls[index]}\r\n              urls={postData.urls[index]}\r\n              liked={postData.liked[index]}\r\n              handleEditClick={handleEditClick}\r\n              userId={props.user._id}\r\n              userProfileImageUrl={props.user.profileImageUrlCropped}\r\n              displayLikers={displayLikers}/>\r\n          } else if (post.type === PostType.ASK_SUGGESTION) {\r\n            return <DisplayAskForSuggestionsBox\r\n              key={post._id}\r\n              post={post}\r\n              creatorProfileImageUrl={postData.creatorProfileImageUrls[index]}\r\n              urls={postData.urls[index]}\r\n              liked={postData.liked[index]}\r\n              handleEditClick={handleEditClick}\r\n              userId={props.user._id}\r\n              userProfileImageUrl={props.user.profileImageUrlCropped}\r\n              displayLikers={displayLikers}/>\r\n          } else {\r\n            return <DisplayGeneralBox\r\n              key={post._id}\r\n              post={post}\r\n              creatorProfileImageUrl={postData.creatorProfileImageUrls[index]}\r\n              urls={postData.urls[index]}\r\n              liked={postData.liked[index]}\r\n              handleEditClick={handleEditClick}\r\n              userId={props.user._id}\r\n              userProfileImageUrl={props.user.profileImageUrlCropped}\r\n              displayLikers={displayLikers}/>\r\n          }\r\n        })}\r\n      </div>\r\n      <div style={{textAlign: \"center\"}}>\r\n        {createState.type && <Container\r\n          setLoading={setLoading}\r\n          createState={createState}\r\n          handleExitClick={handleExitClick}\r\n          handlePostAction={handlePostAction}/>}\r\n      </div>\r\n      {isDisplayingLikers && <TableContainer\r\n          component={Paper}\r\n          style={{\r\n            width: \"500px\",\r\n            height: \"300px\",\r\n            overflow: \"auto\",\r\n            position: \"absolute\",\r\n            top: window.pageYOffset + (window.innerHeight / 4),\r\n            left: \"33.5%\",\r\n            zIndex: \"999999999999999999999999999999999999\"}}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>\r\n                <ThumbUpAltIcon />\r\n              </TableCell>\r\n              <TableCell align=\"right\"><IconButton onClick={() => {setDisplayingLikers(false); document.body.style.overflow = \"auto\";}}>\r\n          <Clear/>\r\n        </IconButton></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {likersData && likersData.map((likerData) => (\r\n              <TableRow key={likerData.liker._id}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                <div style={{display: \"flex\"}}>\r\n                  <div>\r\n                  <Avatar alt=\"liker image\" src={likerData.likerUrl ? likerData.likerUrl : process.env.PUBLIC_URL + '/images/loginImage.png'} />\r\n                  </div>\r\n                  <div style={{marginTop: \"9px\", marginLeft: \"5px\"}}>\r\n                  {likerData.liker.nickname}\r\n                  </div>\r\n                </div>\r\n                </TableCell>\r\n                <TableCell align=\"right\"><Button variant=\"contained\" color=\"primary\" onClick={() => {window.open(\"/profile/\" + likerData.liker._id, \"_self\")}}>\r\n                  Visit Profile\r\n                </Button></TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>}\r\n    </div>}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Login.js",["139"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Navbar.js",["140","141","142","143"],"import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: \"#e6e6e6\",\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: \"black\"\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Navbar(props) {\r\n  const classes = useStyles();\r\n\r\n  function redirectToProfile() {\r\n    window.open(\"/profile/\" + props.userId, \"_self\");\r\n  }\r\n\r\n  function redirectToHome() {\r\n    window.open(\"/\", \"_self\");\r\n  }\r\n\r\n  // <div className={classes.search}>\r\n  //   <div className={classes.searchIcon}>\r\n  //     <SearchIcon />\r\n  //   </div>\r\n  //   <InputBase\r\n  //     style={{color: \"black\"}}\r\n  //     placeholder=\"Search\"\r\n  //     classes={{\r\n  //       root: classes.inputRoot,\r\n  //       input: classes.inputInput,\r\n  //     }}\r\n  //     inputProps={{ 'roboto': 'search' }}\r\n  //   />\r\n  // </div>\r\n\r\n  return <div className={classes.root} style={{position: \"fixed\", width: \"100%\", zIndex: \"1000000000000000000000000000000000000000000000\"}}>\r\n    <AppBar position=\"static\" style={{backgroundColor: \"white\"}}>\r\n      <Toolbar style={{width: \"80%\", margin: \"auto\"}}>\r\n        <h1 className={classes.title} style={{color: \"black\", fontSize: \"1.6em\", margin: \"0\", userSelect: \"none\"}} nowrap=\"true\">\r\n          Movelp\r\n        </h1>\r\n        <Button onClick={redirectToHome} style={{marginLeft: \"1em\"}}>Home</Button>\r\n        <Button onClick={redirectToProfile} style={{marginLeft: \"1em\"}}>Profile</Button>\r\n        <Button href=\"/auth/logout\" style={{marginLeft: \"1em\"}}>\r\n          Logout\r\n        </Button>\r\n      </Toolbar>\r\n    </AppBar>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostTypeContext.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\CreateBox.js",["144"],"import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Theaters from '@material-ui/icons/Theaters';\r\nimport Movie from '@material-ui/icons/Movie';\r\nimport LiveTv from '@material-ui/icons/LiveTv';\r\nimport Button from '@material-ui/core/Button';\r\nimport PostTypeContext from '../PostTypeContext';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function CreateBox(props) {\r\n  const PostType = useContext(PostTypeContext);\r\n  const classes = useStyles();\r\n  return <div style={{\r\n      width: isBrowser ? \"600px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      margin: \"auto\",\r\n      marginTop: isBrowser ? \"1em\" : \"0.6em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\",\r\n      padding: isBrowser && \"5px\"}}>\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <TextField name={PostType.GENERAL} id={PostType.GENERAL} label=\"Create a general post\" variant=\"outlined\" style={{width: \"70%\"}} onClick={props.handleClick}/>\r\n    </form>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\r\n    <Button style={{width: isBrowser ? \"30%\" : \"40%\"}} name={PostType.DIARY} onClick={props.handleClick}>\r\n      {isBrowser && <Theaters style={{pointerEvents: \"none\"}}/>}\r\n      <p style={{fontFamily: 'Roboto', marginLeft: isBrowser ? \"6px\" : \"1px\"}} id={PostType.DIARY}>Diary</p>\r\n    </Button>\r\n    <Button style={{width: isBrowser ? \"30%\" : \"40%\"}} name={PostType.RECOMMENDATION} onClick={props.handleClick}>\r\n      {isBrowser && <Movie style={{pointerEvents: \"none\"}}/>}\r\n      <p style={{fontFamily: 'Roboto', marginLeft: isBrowser ? \"6px\" : \"3px\"}} id={PostType.RECOMMENDATION}>Recommendation</p>\r\n    </Button>\r\n    {isBrowser && <Button style={{width: \"30%\"}} name={PostType.ASK_SUGGESTION} onClick={props.handleClick}>\r\n      <LiveTv style={{pointerEvents: \"none\"}}/>\r\n      <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}} id={PostType.ASK_SUGGESTION}>Ask Suggestion</p>\r\n    </Button>}\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\GeneralBox.js",["145","146"],"import React, {useState, useEffect, useRef} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport Button from '@material-ui/core/Button';\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Comment from './Comment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  buttonBrowser: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  },\r\n  buttonMobile: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  }\r\n}));\r\n\r\nexport default function GeneralBox(props) {\r\n  const classes = useStyles();\r\n  const commentField = useRef(null);\r\n  const form = useRef(null);\r\n  const [commentInput, setCommentInput] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [data, setData] = useState({\r\n    isLiked: props.liked,\r\n    editedCommentId: null,\r\n    noOfLikes: props.post.noOfLikes,\r\n    noOfComments: props.post.noOfComments\r\n  })\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/comment/get', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => setComments(res))\r\n        .catch(err => console.log(err));\r\n\r\n    async function fetchMovieTitles() {\r\n      const promises = [];\r\n      for (var i = 0; i < props.post.movieIds.length; i++) {\r\n        var movieDataRaw =\r\n            await fetch(\"https://api.themoviedb.org/3/movie/\" + props.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        if (movieDataRaw.status === 404) {\r\n          movieDataRaw = await fetch(\"https://api.themoviedb.org/3/tv/\" + props.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        }\r\n        const movieData = await movieDataRaw.json();\r\n        promises.push({\r\n          title: movieData.title ? movieData.title : movieData.name,\r\n          id: props.post.movieIds[i]\r\n        })\r\n      }\r\n      const result = await Promise.all(promises);\r\n      setMovies(result);\r\n    }\r\n\r\n    fetchMovieTitles();\r\n\r\n    return () => ac.abort();\r\n  }, [props.post._id]);\r\n\r\n  function constructGalleryUrls(urls) {\r\n    return urls.map(url => {\r\n      return {original: url};\r\n    })\r\n  }\r\n\r\n  function focusCommentField() {\r\n    commentField.current.focus();\r\n  }\r\n\r\n  async function handleCommentSubmit(event) {\r\n    event.preventDefault();\r\n    if (commentInput.length !== 0) {\r\n      const formData = new FormData(form.current);\r\n      formData.append('postId', props.post._id);\r\n      await setCommentInput(\"\");\r\n      fetch('/comment/create', {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(createdComment => {\r\n            setComments(prevData => {\r\n              return [...prevData, createdComment];\r\n            });\r\n            setData(prevData => {\r\n              return {...prevData, noOfComments: prevData.noOfComments + 1};\r\n            })\r\n          })\r\n          .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleCommentInputChange(event) {\r\n    setCommentInput(event.target.value);\r\n  }\r\n\r\n  function handleToggleLike() {\r\n    setData(prevData => {\r\n      return {\r\n        ...prevData,\r\n        isLiked: !prevData.isLiked,\r\n        noOfLikes: prevData.isLiked ? prevData.noOfLikes - 1 : prevData.noOfLikes + 1\r\n      };\r\n    });\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/post/toggleLike', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function handleEditCommentClick(commentId) {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: commentId};\r\n    })\r\n  }\r\n\r\n  function handleEditCommentUnclick() {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: null};\r\n    })\r\n  }\r\n\r\n  function handleDeleteComment(commentId) {\r\n    setComments(prevData => {\r\n      return prevData.filter(data => {\r\n        return data._id !== commentId;\r\n      });\r\n    });\r\n    setData(prevData => {\r\n      return {...prevData, noOfComments: prevData.noOfComments - 1};\r\n    })\r\n    const formData = new FormData();\r\n    formData.append('commentId', commentId);\r\n    fetch('/comment/delete', {method: 'POST', body: formData});\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    console.log(movies);\r\n    console.log(props.post.movieIds);\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = (id) => {\r\n    setAnchorEl(null);\r\n    if (id) {\r\n      window.open(\"/movie/\" + id, \"_self\");\r\n    }\r\n  };\r\n\r\n  function navigateToCreator() {\r\n    window.open(\"/profile/\" + props.post.creatorId, \"_self\");\r\n  }\r\n\r\n  function renderTime() {\r\n    const today = new Date(parseInt(Date.parse(props.post.timeOfCreation), 10));\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    return mm + '/' + dd + '/' + yyyy;\r\n  }\r\n\r\n  return <div style={{\r\n      width: isBrowser ? \"610px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"1em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\"}}>\r\n    <div>\r\n      <div style={{width: \"100%\", margin: \"auto\", textAlign: \"left\", display: \"flex\", position: \"relative\"}}>\r\n        <div style={{position: \"absolute\", width: \"100%\"}}>\r\n          <Button\r\n            style={{backgroundColor: \"black\", color: \"white\"}}\r\n            aria-controls=\"simple-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            variant=\"contained\"\r\n            className={isBrowser ? classes.buttonBrowser : classes.buttonMobile}\r\n            startIcon={isBrowser && <MovieIcon />}>\r\n            Movies\r\n          </Button>\r\n          {movies.length > 0 && <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={() => {handleClose()}}\r\n          >\r\n            {movies.map(movie => {\r\n              return <MenuItem key={movie.id} onClick={() => {handleClose(movie.id)}}>{movie.title}</MenuItem>;\r\n            })}\r\n          </Menu>}\r\n        </div>\r\n        <div className={classes.root}>\r\n          <Avatar\r\n            src={props.creatorProfileImageUrl ? props.creatorProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n            style={{cursor: \"pointer\", borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}\r\n            onClick={navigateToCreator}/>\r\n        </div>\r\n        <div>\r\n          <p style={{bottom: \"0\", fontFamily: \"roboto\", fontWeight: \"700\", marginBottom: \"0\"}}>{props.post.creatorName}</p>\r\n          <p style={{bottom: \"0\", fontFamily: \"roboto\", marginTop: \"0\", fontSize: \"0.7em\"}}>{renderTime()}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style={{padding: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", wordWrap: \"break-word\"}}>\r\n      {props.post.text}\r\n    </div>\r\n    {props.urls.length > 0 && <ImageGallery items={constructGalleryUrls(props.urls)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false}/>}\r\n    <div style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexWrap: \"wrap\",\r\n      padding: \"10px\",\r\n    }}>\r\n    <IconButton onClick={() => {props.displayLikers(props.post._id)}}>\r\n      {data.isLiked ? <ThumbUpAltIcon /> : <ThumbUpAltOutlinedIcon />}\r\n    </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfLikes}</span>\r\n      <IconButton style={{marginLeft: \"20px\"}}>\r\n      <CommentIcon />\r\n      </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfComments}</span>\r\n    </div>\r\n    <div style={{padding: \"5px\"}}>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\r\n      <Button style={{width: \"30%\"}} onClick={handleToggleLike}>\r\n        <ThumbUpAltOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Like</p>\r\n      </Button>\r\n      <Button style={{width: \"30%\"}} onClick={focusCommentField}>\r\n        <ChatBubbleOutlineOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Comment</p>\r\n      </Button>\r\n      {props.post.creatorId === props.userId && <Button style={{width: \"30%\"}} onClick={() => {\r\n        props.handleEditClick({\r\n          post: props.post,\r\n          urls: props.urls\r\n        })\r\n      }}>\r\n        <EditOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Edit</p>\r\n      </Button>}\r\n    </div>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", padding: \"10px\"}}>\r\n      {comments.map(comment => {\r\n        return <Comment\r\n          timeOfCreation={comment.timeOfCreation}\r\n          key={comment._id}\r\n          text={comment.text}\r\n          creatorId={comment.creatorId}\r\n          creatorName={comment.creatorName}\r\n          _id={comment._id}\r\n          isCreatedByUser={props.userId === comment.creatorId}\r\n          editedCommentId={data.editedCommentId}\r\n          handleEditCommentClick={handleEditCommentClick}\r\n          handleEditCommentUnclick={handleEditCommentUnclick}\r\n          handleDeleteComment={handleDeleteComment}/>\r\n      })}\r\n    <form ref={form} className={classes.root} noValidate autoComplete=\"off\" style={{width: \"100%\"}} onSubmit={handleCommentSubmit}>\r\n      <Avatar\r\n        src={props.userProfileImageUrl ? props.userProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n        style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}/>\r\n      <TextField\r\n        inputRef={commentField}\r\n        label=\"Write a comment...\"\r\n        variant=\"outlined\"\r\n        name=\"text\"\r\n        value={commentInput}\r\n        onChange={handleCommentInputChange}\r\n        style={{margin: \"auto\", width: \"90%\"}}/>\r\n    </form>\r\n    </div>\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\RecommendationBox.js",["147"],"import React, {useState, useEffect, useRef} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport Button from '@material-ui/core/Button';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport StarOutlinedIcon from '@material-ui/icons/StarOutlined';\r\nimport NavigateNextOutlinedIcon from '@material-ui/icons/NavigateNextOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Comment from './Comment';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  buttonBrowser: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  },\r\n  buttonMobile: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  }\r\n}));\r\n\r\nexport default function RecommendationBox(props) {\r\n  const classes = useStyles();\r\n  const commentField = useRef(null);\r\n  const form = useRef(null);\r\n  const [commentInput, setCommentInput] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [movieTitle, setMovieTitle] = useState(\"MOVIE TITLE\");\r\n  const [data, setData] = useState({\r\n    isLiked: props.liked,\r\n    editedCommentId: null,\r\n    noOfLikes: props.post.noOfLikes,\r\n    noOfComments: props.post.noOfComments\r\n  })\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n\r\n    async function fetchData() {\r\n      const formData = new FormData();\r\n      formData.append('postId', props.post._id);\r\n      if (props.post.movieIds.length > 0) {\r\n        var movieDataRaw =\r\n            await fetch(\"https://api.themoviedb.org/3/movie/\" + props.post.movieIds[0] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        if (movieDataRaw.status === 404) {\r\n          movieDataRaw = await fetch(\"https://api.themoviedb.org/3/tv/\" + props.post.movieIds[0] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        }\r\n        const movieData = await movieDataRaw.json();\r\n        const title = movieData.title ? movieData.title : movieData.name;\r\n        await setMovieTitle(title);\r\n      }\r\n\r\n      fetch('/comment/get', {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(res => setComments(res))\r\n          .catch(err => console.log(err));\r\n    }\r\n    fetchData();\r\n\r\n    return () => ac.abort();\r\n  }, [props.post._id, props.post.movieIds]);\r\n\r\n  function constructGalleryUrls(urls) {\r\n    return urls.map(url => {\r\n      return {original: url};\r\n    })\r\n  }\r\n\r\n  function focusCommentField() {\r\n    commentField.current.focus();\r\n  }\r\n\r\n  async function handleCommentSubmit(event) {\r\n    event.preventDefault();\r\n    if (commentInput.length !== 0) {\r\n      const formData = new FormData(form.current);\r\n      formData.append('postId', props.post._id);\r\n      await setCommentInput(\"\");\r\n      fetch('/comment/create', {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(createdComment => {\r\n            setComments(prevData => {\r\n              return [...prevData, createdComment];\r\n            });\r\n            setData(prevData => {\r\n              return {...prevData, noOfComments: prevData.noOfComments + 1};\r\n            })\r\n          })\r\n          .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleCommentInputChange(event) {\r\n    setCommentInput(event.target.value);\r\n  }\r\n\r\n  function handleToggleLike() {\r\n    setData(prevData => {\r\n      return {\r\n        ...prevData,\r\n        isLiked: !prevData.isLiked,\r\n        noOfLikes: prevData.isLiked ? prevData.noOfLikes - 1 : prevData.noOfLikes + 1\r\n      };\r\n    });\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/post/toggleLike', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function handleEditCommentClick(commentId) {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: commentId};\r\n    })\r\n  }\r\n\r\n  function handleEditCommentUnclick() {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: null};\r\n    })\r\n  }\r\n\r\n  function handleDeleteComment(commentId) {\r\n    setComments(prevData => {\r\n      return prevData.filter(data => {\r\n        return data._id !== commentId;\r\n      });\r\n    });\r\n    setData(prevData => {\r\n      return {...prevData, noOfComments: prevData.noOfComments - 1};\r\n    })\r\n    const formData = new FormData();\r\n    formData.append('commentId', commentId);\r\n    fetch('/comment/delete', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function navigateToMovie() {\r\n    if (props.post.movieIds > 0) {\r\n      window.open(\"/movie/\" + props.post.movieIds[0], \"_self\");\r\n    }\r\n  }\r\n\r\n  function navigateToCreator() {\r\n    window.open(\"/profile/\" + props.post.creatorId, \"_self\");\r\n  }\r\n\r\n  function renderTime() {\r\n    const today = new Date(parseInt(Date.parse(props.post.timeOfCreation), 10));\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    return mm + '/' + dd + '/' + yyyy;\r\n  }\r\n\r\n  return <div style={{\r\n      width: isBrowser ? \"610px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"1em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\"}}>\r\n    <div>\r\n      <div style={{width: \"100%\", margin: \"auto\", textAlign: \"left\", display: \"flex\", position: \"relative\"}}>\r\n        <div style={{position: \"absolute\", width: \"100%\"}}>\r\n        <Button\r\n          onClick={navigateToMovie}\r\n          style={{backgroundColor: \"black\", color: \"white\"}}\r\n          variant=\"contained\"\r\n          className={isBrowser ? classes.buttonBrowser : classes.buttonMobile}\r\n          startIcon={isBrowser && <NavigateNextOutlinedIcon />}>Movie</Button>\r\n        </div>\r\n          <div className={classes.root}>\r\n            <Avatar\r\n              src={props.creatorProfileImageUrl ? props.creatorProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n              style={{cursor: \"pointer\", borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}\r\n              onClick={navigateToCreator}/>\r\n          </div>\r\n          <div>\r\n            <p style={{bottom: \"0\", fontFamily: \"roboto\", fontWeight: \"700\", marginBottom: \"0\"}}>{props.post.creatorName}</p>\r\n            <p style={{bottom: \"0\", fontFamily: \"roboto\", marginTop: \"0\", fontSize: \"0.7em\"}}>{renderTime()}</p>\r\n          </div>\r\n      </div>\r\n    </div>\r\n    <div style={{paddingLeft: \"1em\", paddingRight: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", fontWeight: \"700\", wordWrap: \"break-word\"}}>\r\n      {movieTitle}\r\n    </div>\r\n    <div style={{paddingTop: \"1em\", paddingLeft: \"1em\", paddingRight: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\"}}>\r\n      {[...Array(props.post.rating).keys()].map(count => {\r\n        return <StarOutlinedIcon key={count}/>\r\n      })}\r\n    </div>\r\n    <div style={{padding: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\"}}>\r\n      {props.post.text}\r\n    </div>\r\n    {props.urls.length > 0 && <ImageGallery items={constructGalleryUrls(props.urls)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false}/>}\r\n    <div style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexWrap: \"wrap\",\r\n      padding: \"10px\",\r\n    }}>\r\n    <IconButton onClick={() => {props.displayLikers(props.post._id)}}>\r\n      {data.isLiked ? <ThumbUpAltIcon /> : <ThumbUpAltOutlinedIcon />}\r\n    </IconButton>\r\n    <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfLikes}</span>\r\n    <IconButton style={{marginLeft: \"20px\"}}>\r\n    <CommentIcon />\r\n    </IconButton>\r\n    <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfComments}</span>\r\n  </div>\r\n  <div style={{padding: \"5px\"}}>\r\n  <div style={{borderTop: \"1px solid #9ba89e\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\r\n    <Button style={{width: \"30%\"}} onClick={handleToggleLike}>\r\n      <ThumbUpAltOutlinedIcon />\r\n      <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Like</p>\r\n    </Button>\r\n    <Button style={{width: \"30%\"}} onClick={focusCommentField}>\r\n      <ChatBubbleOutlineOutlinedIcon />\r\n      <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Comment</p>\r\n    </Button>\r\n    {props.post.creatorId === props.userId && <Button style={{width: \"30%\"}} onClick={() => {\r\n      props.handleEditClick({\r\n        post: props.post,\r\n        urls: props.urls\r\n      })\r\n    }}>\r\n      <EditOutlinedIcon />\r\n      <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Edit</p>\r\n    </Button>}\r\n  </div>\r\n  <div style={{borderTop: \"1px solid #9ba89e\", padding: \"10px\"}}>\r\n    {comments.map(comment => {\r\n      return <Comment\r\n        timeOfCreation={comment.timeOfCreation}\r\n        key={comment._id}\r\n        text={comment.text}\r\n        creatorId={comment.creatorId}\r\n        creatorName={comment.creatorName}\r\n        _id={comment._id}\r\n        isCreatedByUser={props.userId === comment.creatorId}\r\n        editedCommentId={data.editedCommentId}\r\n        handleEditCommentClick={handleEditCommentClick}\r\n        handleEditCommentUnclick={handleEditCommentUnclick}\r\n        handleDeleteComment={handleDeleteComment}/>\r\n    })}\r\n  <form ref={form} className={classes.root} noValidate autoComplete=\"off\" style={{width: \"100%\"}} onSubmit={handleCommentSubmit}>\r\n    <Avatar\r\n      src={props.userProfileImageUrl ? props.userProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n      style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}/>\r\n    <TextField\r\n      inputRef={commentField}\r\n      label=\"Write a comment...\"\r\n      variant=\"outlined\"\r\n      name=\"text\"\r\n      value={commentInput}\r\n      onChange={handleCommentInputChange}\r\n      style={{margin: \"auto\", width: \"90%\"}}/>\r\n  </form>\r\n  </div>\r\n  </div>\r\n</div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\AskForSuggestionsBox.js",["148","149"],"import React, {useState, useEffect, useRef} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport Button from '@material-ui/core/Button';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Comment from './Comment';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  buttonBrowser: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    marginLeft: \"421px\"\r\n  },\r\n  buttonMobile: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"1px\",\r\n    right: \"1px\"\r\n  }\r\n}));\r\n\r\nexport default function AskForSuggestionsBox(props) {\r\n  const classes = useStyles();\r\n  const commentField = useRef(null);\r\n  const form = useRef(null);\r\n  const [commentInput, setCommentInput] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [data, setData] = useState({\r\n    isLiked: props.liked,\r\n    editedCommentId: null,\r\n    noOfLikes: props.post.noOfLikes,\r\n    noOfComments: props.post.noOfComments\r\n  })\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/comment/get', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => setComments(res))\r\n        .catch(err => console.log(err));\r\n\r\n    return () => ac.abort();\r\n  }, [props.post._id]);\r\n\r\n  function constructGalleryUrls(urls) {\r\n    return urls.map(url => {\r\n      return {original: url};\r\n    })\r\n  }\r\n\r\n  function focusCommentField() {\r\n    commentField.current.focus();\r\n  }\r\n\r\n  async function handleCommentSubmit(event) {\r\n    event.preventDefault();\r\n    if (commentInput.length !== 0) {\r\n      const formData = new FormData(form.current);\r\n      formData.append('postId', props.post._id);\r\n      await setCommentInput(\"\");\r\n      fetch('/comment/create', {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(createdComment => {\r\n            setComments(prevData => {\r\n              return [...prevData, createdComment];\r\n            });\r\n            setData(prevData => {\r\n              return {...prevData, noOfComments: prevData.noOfComments + 1};\r\n            })\r\n          })\r\n          .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleCommentInputChange(event) {\r\n    setCommentInput(event.target.value);\r\n  }\r\n\r\n  function handleToggleLike() {\r\n    setData(prevData => {\r\n      return {\r\n        ...prevData,\r\n        isLiked: !prevData.isLiked,\r\n        noOfLikes: prevData.isLiked ? prevData.noOfLikes - 1 : prevData.noOfLikes + 1\r\n      };\r\n    });\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/post/toggleLike', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function handleEditCommentClick(commentId) {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: commentId};\r\n    })\r\n  }\r\n\r\n  function handleEditCommentUnclick() {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: null};\r\n    })\r\n  }\r\n\r\n  function handleDeleteComment(commentId) {\r\n    setComments(prevData => {\r\n      return prevData.filter(data => {\r\n        return data._id !== commentId;\r\n      });\r\n    });\r\n    setData(prevData => {\r\n      return {...prevData, noOfComments: prevData.noOfComments - 1};\r\n    })\r\n    const formData = new FormData();\r\n    formData.append('commentId', commentId);\r\n    fetch('/comment/delete', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function navigateToCreator() {\r\n    window.open(\"/profile/\" + props.post.creatorId, \"_self\");\r\n  }\r\n\r\n  function renderTime() {\r\n    const today = new Date(parseInt(Date.parse(props.post.timeOfCreation), 10));\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    return mm + '/' + dd + '/' + yyyy;\r\n  }\r\n\r\n  return <div style={{\r\n      width: isBrowser ? \"610px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"1em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\"}}>\r\n    <div>\r\n      <div style={{width: \"100%\", margin: \"auto\", textAlign: \"left\", padding: \"5px\", display: \"flex\"}}>\r\n      <div className={classes.root}>\r\n        <Avatar\r\n          src={props.creatorProfileImageUrl ? props.creatorProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n          style={{cursor: \"pointer\", borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}\r\n          onClick={navigateToCreator}/>\r\n      </div>\r\n        <p style={{bottom: \"0\", fontFamily: \"roboto\", fontWeight: \"700\"}}>{props.post.creatorName}</p>\r\n      </div>\r\n    </div>\r\n    <div style={{paddingLeft: \"1em\", paddingRight: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", fontWeight: \"700\", wordWrap: \"break-word\"}}>\r\n      {props.post.title}\r\n    </div>\r\n    <div style={{padding: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", wordWrap: \"break-word\"}}>\r\n      {props.post.text}\r\n    </div>\r\n    {props.urls.length > 0 && <ImageGallery items={constructGalleryUrls(props.urls)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false}/>}\r\n    <div style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexWrap: \"wrap\",\r\n      padding: \"10px\",\r\n    }}>\r\n    <IconButton onClick={() => {props.displayLikers(props.post._id)}}>\r\n      {data.isLiked ? <ThumbUpAltIcon /> : <ThumbUpAltOutlinedIcon />}\r\n    </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfLikes}</span>\r\n      <IconButton style={{marginLeft: \"20px\"}}>\r\n      <CommentIcon />\r\n      </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfComments}</span>\r\n    </div>\r\n    <div style={{padding: \"5px\"}}>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\r\n      <Button style={{width: \"30%\"}} onClick={handleToggleLike}>\r\n        <ThumbUpAltOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Like</p>\r\n      </Button>\r\n      <Button style={{width: \"30%\"}} onClick={focusCommentField}>\r\n        <ChatBubbleOutlineOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Comment</p>\r\n      </Button>\r\n      {props.post.creatorId === props.userId && <Button style={{width: \"30%\"}} onClick={() => {\r\n        props.handleEditClick({\r\n          post: props.post,\r\n          urls: props.urls\r\n        })\r\n      }}>\r\n        <EditOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Edit</p>\r\n      </Button>}\r\n    </div>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", padding: \"10px\"}}>\r\n      {comments.map(comment => {\r\n        return <Comment\r\n          timeOfCreation={comment.timeOfCreation}\r\n          key={comment._id}\r\n          text={comment.text}\r\n          creatorId={comment.creatorId}\r\n          creatorName={comment.creatorName}\r\n          _id={comment._id}\r\n          isCreatedByUser={props.userId === comment.creatorId}\r\n          editedCommentId={data.editedCommentId}\r\n          handleEditCommentClick={handleEditCommentClick}\r\n          handleEditCommentUnclick={handleEditCommentUnclick}\r\n          handleDeleteComment={handleDeleteComment}/>\r\n      })}\r\n    <form ref={form} className={classes.root} noValidate autoComplete=\"off\" style={{width: \"100%\"}} onSubmit={handleCommentSubmit}>\r\n      <Avatar\r\n        src={props.userProfileImageUrl ? props.userProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n        style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}/>\r\n      <TextField\r\n        inputRef={commentField}\r\n        label=\"Write a comment...\"\r\n        variant=\"outlined\"\r\n        name=\"text\"\r\n        value={commentInput}\r\n        onChange={handleCommentInputChange}\r\n        style={{margin: \"auto\", width: \"90%\"}}/>\r\n    </form>\r\n    </div>\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\DiaryBox.js",["150","151"],"import React, {useState, useEffect, useRef} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport Button from '@material-ui/core/Button';\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Comment from './Comment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(2),\r\n    },\r\n  },\r\n  buttonBrowser: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  },\r\n  buttonMobile: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  }\r\n}));\r\n\r\nexport default function DiaryBox(props) {\r\n  const classes = useStyles();\r\n  const commentField = useRef(null);\r\n  const form = useRef(null);\r\n  const [commentInput, setCommentInput] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [movies, setMovies] = useState([]);\r\n  const [data, setData] = useState({\r\n    isLiked: props.liked,\r\n    editedCommentId: null,\r\n    noOfLikes: props.post.noOfLikes,\r\n    noOfComments: props.post.noOfComments\r\n  })\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/comment/get', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => setComments(res))\r\n        .catch(err => console.log(err));\r\n\r\n    async function fetchMovieTitles() {\r\n      const promises = [];\r\n      for (var i = 0; i < props.post.movieIds.length; i++) {\r\n        var movieDataRaw =\r\n            await fetch(\"https://api.themoviedb.org/3/movie/\" + props.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        if (movieDataRaw.status === 404) {\r\n          movieDataRaw = await fetch(\"https://api.themoviedb.org/3/tv/\" + props.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n        }\r\n        const movieData = await movieDataRaw.json();\r\n\r\n        promises.push({\r\n          title: movieData.title ? movieData.title : movieData.name,\r\n          id: props.post.movieIds[i]\r\n        })\r\n      }\r\n      const result = await Promise.all(promises);\r\n      setMovies(result);\r\n    }\r\n\r\n    fetchMovieTitles();\r\n    return () => ac.abort();\r\n  }, [props.post._id]);\r\n\r\n  function constructGalleryUrls(urls) {\r\n    return urls.map(url => {\r\n      return {original: url};\r\n    })\r\n  }\r\n\r\n  function focusCommentField() {\r\n    commentField.current.focus();\r\n  }\r\n\r\n  async function handleCommentSubmit(event) {\r\n    event.preventDefault();\r\n    if (commentInput.length !== 0) {\r\n      const formData = new FormData(form.current);\r\n      formData.append('postId', props.post._id);\r\n      await setCommentInput(\"\");\r\n      fetch('/comment/create', {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(createdComment => {\r\n            setComments(prevData => {\r\n              return [...prevData, createdComment];\r\n            });\r\n            setData(prevData => {\r\n              return {...prevData, noOfComments: prevData.noOfComments + 1};\r\n            })\r\n          })\r\n          .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleCommentInputChange(event) {\r\n    setCommentInput(event.target.value);\r\n  }\r\n\r\n  function handleToggleLike() {\r\n    setData(prevData => {\r\n      return {\r\n        ...prevData,\r\n        isLiked: !prevData.isLiked,\r\n        noOfLikes: prevData.isLiked ? prevData.noOfLikes - 1 : prevData.noOfLikes + 1\r\n      };\r\n    });\r\n    const formData = new FormData();\r\n    formData.append('postId', props.post._id);\r\n    fetch('/post/toggleLike', {method: 'POST', body: formData});\r\n  }\r\n\r\n  function handleEditCommentClick(commentId) {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: commentId};\r\n    })\r\n  }\r\n\r\n  function handleEditCommentUnclick() {\r\n    setData(prevData => {\r\n      return {...prevData, editedCommentId: null};\r\n    })\r\n  }\r\n\r\n  function handleDeleteComment(commentId) {\r\n    setComments(prevData => {\r\n      return prevData.filter(data => {\r\n        return data._id !== commentId;\r\n      });\r\n    });\r\n    setData(prevData => {\r\n      return {...prevData, noOfComments: prevData.noOfComments - 1};\r\n    })\r\n    const formData = new FormData();\r\n    formData.append('commentId', commentId);\r\n    fetch('/comment/delete', {method: 'POST', body: formData});\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = (id) => {\r\n    setAnchorEl(null);\r\n    if (id) {\r\n      window.open(\"/movie/\" + id, \"_self\");\r\n    }\r\n  };\r\n\r\n  function navigateToCreator() {\r\n    window.open(\"/profile/\" + props.post.creatorId, \"_self\");\r\n  }\r\n\r\n  function renderTime() {\r\n    const today = new Date(parseInt(Date.parse(props.post.timeOfCreation), 10));\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    return mm + '/' + dd + '/' + yyyy;\r\n  }\r\n\r\n  return <div style={{\r\n      width: isBrowser ? \"610px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"1em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\"}}>\r\n    <div>\r\n      <div style={{width: \"100%\", margin: \"auto\", textAlign: \"left\", display: \"flex\", position: \"relative\"}}>\r\n        <div style={{position: \"absolute\", width: \"100%\"}}>\r\n          <Button\r\n            style={{backgroundColor: \"black\", color: \"white\"}}\r\n            aria-controls=\"simple-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            variant=\"contained\"\r\n            className={isBrowser ? classes.buttonBrowser : classes.buttonMobile}\r\n            startIcon={isBrowser && <MovieIcon />}>\r\n            Movies\r\n          </Button>\r\n          {movies.length > 0 && <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={() => {handleClose()}}\r\n          >\r\n            {movies.map(movie => {\r\n              return <MenuItem key={movie.id} onClick={() => {handleClose(movie.id)}}>{movie.title}</MenuItem>;\r\n            })}\r\n          </Menu>}\r\n        </div>\r\n        <div className={classes.root}>\r\n          <Avatar\r\n            src={props.creatorProfileImageUrl ? props.creatorProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n            style={{cursor: \"pointer\", borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}\r\n            onClick={navigateToCreator}/>\r\n        </div>\r\n        <div>\r\n          <p style={{bottom: \"0\", fontFamily: \"roboto\", fontWeight: \"700\", marginBottom: \"0\"}}>{props.post.creatorName}</p>\r\n          <p style={{bottom: \"0\", fontFamily: \"roboto\", marginTop: \"0\", fontSize: \"0.7em\"}}>{renderTime()}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style={{paddingLeft: \"1em\", paddingRight: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", fontWeight: \"700\", wordWrap: \"break-word\"}}>\r\n      {props.post.title}\r\n    </div>\r\n    <div style={{padding: \"1em\", textAlign: \"justify\", fontFamily: \"roboto\", wordWrap: \"break-word\"}}>\r\n      {props.post.text}\r\n    </div>\r\n    {props.urls.length > 0 && <ImageGallery items={constructGalleryUrls(props.urls)} showFullscreenButton={false} showPlayButton={false} showThumbnails={false}/>}\r\n    <div style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexWrap: \"wrap\",\r\n      padding: \"10px\",\r\n    }}>\r\n      <IconButton onClick={() => {props.displayLikers(props.post._id)}}>\r\n        {data.isLiked ? <ThumbUpAltIcon /> : <ThumbUpAltOutlinedIcon />}\r\n      </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfLikes}</span>\r\n      <IconButton style={{marginLeft: \"20px\"}}>\r\n      <CommentIcon />\r\n      </IconButton>\r\n      <span style={{fontFamily: \"roboto\", marginLeft: \"4px\"}}>{data.noOfComments}</span>\r\n    </div>\r\n    <div style={{padding: \"5px\"}}>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", paddingTop: \"5px\", paddingBottom: \"5px\"}}>\r\n      <Button style={{width: \"30%\"}} onClick={handleToggleLike}>\r\n        <ThumbUpAltOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Like</p>\r\n      </Button>\r\n      <Button style={{width: \"30%\"}} onClick={focusCommentField}>\r\n        <ChatBubbleOutlineOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Comment</p>\r\n      </Button>\r\n\r\n      {props.post.creatorId === props.userId && <Button style={{width: \"30%\"}} onClick={() => {\r\n        props.handleEditClick({\r\n          post: props.post,\r\n          urls: props.urls\r\n        })\r\n      }}>\r\n        <EditOutlinedIcon />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Edit</p>\r\n      </Button>}\r\n    </div>\r\n    <div style={{borderTop: \"1px solid #9ba89e\", padding: \"10px\"}}>\r\n      {comments.map(comment => {\r\n        return <Comment\r\n          timeOfCreation={comment.timeOfCreation}\r\n          key={comment._id}\r\n          text={comment.text}\r\n          creatorId={comment.creatorId}\r\n          creatorName={comment.creatorName}\r\n          _id={comment._id}\r\n          isCreatedByUser={props.userId === comment.creatorId}\r\n          editedCommentId={data.editedCommentId}\r\n          handleEditCommentClick={handleEditCommentClick}\r\n          handleEditCommentUnclick={handleEditCommentUnclick}\r\n          handleDeleteComment={handleDeleteComment}/>\r\n      })}\r\n    <form ref={form} className={classes.root} noValidate autoComplete=\"off\" style={{width: \"100%\"}} onSubmit={handleCommentSubmit}>\r\n      <Avatar\r\n        src={props.userProfileImageUrl ? props.userProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n        style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\"}}/>\r\n      <TextField\r\n        inputRef={commentField}\r\n        label=\"Write a comment...\"\r\n        variant=\"outlined\"\r\n        name=\"text\"\r\n        value={commentInput}\r\n        onChange={handleCommentInputChange}\r\n        style={{margin: \"auto\", width: \"90%\"}}/>\r\n    </form>\r\n    </div>\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\Container.js",["152","153","154"],"import DiaryBox from './DiaryBox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AskForSuggestionsBox from './AskForSuggestionsBox';\r\nimport GeneralBox from './GeneralBox';\r\nimport RecommendationBox from './RecommendationBox';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Backspace from '@material-ui/icons/Backspace'\r\nimport MovieSearch from './MovieSearch';\r\nimport {useState, useContext, useEffect, useRef} from 'react';\r\nimport PostTypeContext from '../PostTypeContext';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  createContainer: {\r\n    width: isBrowser ? \"500px\" : \"95%\",\r\n    height: isBrowser && \"500px\",\r\n    margin: \"auto\",\r\n    marginTop: isBrowser ? window.pageYOffset + (window.innerHeight / 6) : \"0\",\r\n    backgroundColor: \"white\",\r\n    top: \"0\",\r\n    bottom: \"0\",\r\n    left: \"0\",\r\n    right: \"0\",\r\n    borderRadius: \"5px\",\r\n    boxShadow: \"0 0 20px #999\",\r\n    zIndex: \"999999999999999999999999999999999999999999999999999999999999999999999\",\r\n    position: \"absolute\",\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    overflow: \"auto\",\r\n  }\r\n}));\r\n\r\nexport default function Container(props) {\r\n  const [isSearchingMovie, setSearchingMovie] = useState(false);\r\n  const [moviesList, setMoviesList] = useState([]);\r\n  const [willBeDeletedFiles, setWillBeDeletedFiles] = useState([]);\r\n  const [deletedExistingFiles, setDeletedExistingFiles] = useState([]);\r\n  const form = useRef();\r\n  const classes = useStyles();\r\n\r\n  const [createInput, setCreateInput] = useState({\r\n    diaryTitle: \"\",\r\n    text: \"\",\r\n    rating: 5,\r\n    uploadedFiles: [],\r\n    chosenMovies: [],\r\n    movieTitleInputValue: \"\"\r\n  })\r\n\r\n  const photoGalleryStylings = [{\r\n      width: \"50%\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    },\r\n    {\r\n    }]\r\n\r\n  const PostType = useContext(PostTypeContext);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n    async function fetchData() {\r\n      if (props.createState.isEditing) {\r\n        const movieIds = props.createState.data.post.movieIds;\r\n        const promises = [];\r\n        for (var i = 0; i < movieIds.length; i++) {\r\n          var movieDataRaw;\r\n          try {\r\n            movieDataRaw =\r\n                await fetch(\"https://api.themoviedb.org/3/movie/\" + props.createState.data.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n          } catch (err) {\r\n            movieDataRaw = await fetch(\"https://api.themoviedb.org/3/tv/\" + props.createState.data.post.movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n          }\r\n          const movieData = await movieDataRaw.json();\r\n          const title = movieData.title ? movieData.title : movieData.name;\r\n          promises.push({id: movieIds[i], title: title});\r\n        }\r\n        const resolved = await Promise.all(promises);\r\n        setCreateInput(prevData => {\r\n          return {\r\n            ...prevData,\r\n            diaryTitle: props.createState.data.post.title,\r\n            rating: props.createState.data.post.rating,\r\n            text: props.createState.data.post.text,\r\n            uploadedFiles: props.createState.data.post.fileIds.map((fileId, index) => {\r\n              return {src: props.createState.data.urls[index], width: 1, height: 1, fileId: fileId};\r\n            }),\r\n            chosenMovies: resolved\r\n          }\r\n        })\r\n      }\r\n    }\r\n    fetchData();\r\n    return () => ac.abort();\r\n  }, []);\r\n\r\n  const handleInputChange = {\r\n    handleDiaryTitleChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, diaryTitle: event.target.value};\r\n      })\r\n    },\r\n    handleTextChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, text: event.target.value};\r\n      })\r\n    },\r\n    handleRatingChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, rating: event.target.value};\r\n      })\r\n    },\r\n    handleUploadedFilesChange: (event) => {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n        if (re.test(file.name)) {\r\n          setCreateInput(prevData => {\r\n            return {\r\n              ...prevData,\r\n              uploadedFiles: [...prevData.uploadedFiles, {src: URL.createObjectURL(file), file: file, width: 1, height: 1}]\r\n            };\r\n          })\r\n        } else {\r\n          alert('only upload image files.')\r\n        }\r\n      }\r\n    },\r\n    handleMovieClick: (movieId, movieTitle) => {\r\n      setCreateInput(prevData => {\r\n        return {\r\n          ...prevData,\r\n          chosenMovies: [...prevData.chosenMovies, {id: movieId, title: movieTitle}]\r\n        }\r\n      })\r\n    },\r\n    handleDeleteChosenMovie: (movieId) => {\r\n      setCreateInput(prevData => {\r\n        return {\r\n          ...prevData,\r\n          chosenMovies: prevData.chosenMovies.filter(data => data.id !== movieId)\r\n        }\r\n      })\r\n    },\r\n    handleMovieTitleInput: (event) => {\r\n      const value = event.target.value;\r\n      setCreateInput(prevData => {\r\n        return {...prevData, movieTitleInputValue: value};\r\n      })\r\n      if (value.trim()) {\r\n        fetch(\"https://api.themoviedb.org/3/search/multi?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US&query=\" + value)\r\n          .then(res => res.json())\r\n          .catch(console.log)\r\n          .then(res => {\r\n            setMoviesList(res.results);\r\n          })\r\n          .catch(err => console.log(err));\r\n      } else {\r\n        setMoviesList([]);\r\n      }\r\n    },\r\n    handleChooseToDeleteFile: (index) => {\r\n      setWillBeDeletedFiles(prevData => {\r\n        return [...prevData, index];\r\n      })\r\n    },\r\n    handleChooseNotToDeleteFile: (index) => {\r\n      setWillBeDeletedFiles(prevData => {\r\n        return prevData.filter(val => {\r\n          return val !== index;\r\n        })\r\n      });\r\n    },\r\n    handleDeleteChosenFiles: async () => {\r\n      const tempDeletedFiles = [...willBeDeletedFiles].sort();\r\n      const tempUploadedFiles = [...createInput.uploadedFiles];\r\n      for (var i = tempDeletedFiles.length - 1; i >= 0; i--) {\r\n        if (tempUploadedFiles[tempDeletedFiles[i]].fileId) {\r\n          await setDeletedExistingFiles(prevData => {\r\n            return [...prevData, tempUploadedFiles[tempDeletedFiles[i]].fileId];\r\n          })\r\n        }\r\n        tempUploadedFiles.splice(tempDeletedFiles[i], 1);\r\n      }\r\n      setCreateInput(prevData => {\r\n        return {...prevData, uploadedFiles: tempUploadedFiles};\r\n      })\r\n      setWillBeDeletedFiles([]);\r\n    }\r\n  }\r\n\r\n  function handleSearchFieldClick() {\r\n    setSearchingMovie(true);\r\n  }\r\n\r\n  function handleSearchFieldUnclick() {\r\n    if (isSearchingMovie) {\r\n      setSearchingMovie(false);\r\n    }\r\n  }\r\n\r\n  function getPostHeader(type) {\r\n    if (type === PostType.GENERAL) {\r\n      return \"General Post\"\r\n    } else if (type === PostType.RECOMMENDATION) {\r\n      return \"Recommendation Post\"\r\n    } else if (type === PostType.DIARY) {\r\n      return \"Diary Post\"\r\n    } else if (type === PostType.ASK_SUGGESTION) {\r\n      return \"Ask for Movie Recommendations\"\r\n    }\r\n  }\r\n\r\n  const renderProps = (param) => {\r\n    return {\r\n      createInput: createInput,\r\n      deletedExistingFiles: deletedExistingFiles,\r\n      handlePostAction: props.handlePostAction,\r\n      post: param.data ? param.data.post : null,\r\n      isEditing: param.isEditing,\r\n      handleInputChange: handleInputChange,\r\n      photoGalleryStylings: photoGalleryStylings,\r\n      handleSubmit: handleSubmit,\r\n      deletePost: deletePost,\r\n      formRef: form\r\n    }\r\n  }\r\n\r\n  function renderBox(param) {\r\n    if (param.type === PostType.GENERAL) {\r\n      return <GeneralBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.DIARY) {\r\n      return <DiaryBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.RECOMMENDATION) {\r\n      return <RecommendationBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.ASK_SUGGESTION) {\r\n      if (props.createState.isEditing) {\r\n        console.log(\"edit ask suggestion\");\r\n      }\r\n      return <AskForSuggestionsBox renderProps={renderProps(param)} />\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    if (props.createState.isEditing) {\r\n      event.preventDefault();\r\n      props.handlePostAction.setLoading(true);\r\n      const formData = new FormData(form.current);\r\n      formData.set('postId', props.createState.data.post._id);\r\n      formData.set('postType', props.createState.type);\r\n      for (var i = 0; i < deletedExistingFiles.length; i++) {\r\n        formData.append('deletedFileIds[]', deletedExistingFiles[i]);\r\n      }\r\n      for (var j = 0; j < createInput.uploadedFiles.length; j++) {\r\n        if (createInput.uploadedFiles[j].file) {\r\n          formData.append('fileInput[]', createInput.uploadedFiles[j].file);\r\n        } else {\r\n          formData.append('fileInput[]', createInput.uploadedFiles[j].fileId);\r\n        }\r\n      }\r\n      fetch('/post/edit', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          props.handlePostAction.handleEditPost(res);\r\n          props.handlePostAction.setLoading(false);\r\n        })\r\n        .catch(err => console.log(err));\r\n    } else {\r\n      event.preventDefault();\r\n      props.handlePostAction.setLoading(true);\r\n      const formData = new FormData(form.current);\r\n      for (var k = 0; k < createInput.uploadedFiles.length; k++) {\r\n        formData.append('fileInput[]', createInput.uploadedFiles[k].file);\r\n      }\r\n      fetch('/post/create/' + props.createState.type, {method: 'POST', body: formData})\r\n          .then(res => res.json())\r\n          .catch(err => console.log(err))\r\n          .then(res => {\r\n            props.handlePostAction.handleAddPost(res);\r\n            props.handlePostAction.setLoading(false);\r\n          })\r\n          .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  function deletePost() {\r\n    const formData = new FormData();\r\n    formData.set('postId', props.createState.data.post._id);\r\n    formData.set('fileIds', props.createState.data.post.fileIds);\r\n    fetch('/post/delete', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          if (res) {\r\n            props.handlePostAction.handleDeletePost(props.createState.data.post._id);\r\n          }\r\n        })\r\n  }\r\n\r\n  return (\r\n    <div className={classes.createContainer}>\r\n      <IconButton style={{position: \"absolute\", top: \"10px\", right: \"10px\"}} onClick={props.handleExitClick}>\r\n        <Clear/>\r\n      </IconButton>\r\n      <p style={{fontFamily: \"Pacifico\", fontSize: \"1.5em\"}}>{getPostHeader(props.createState.type)}</p>\r\n      {isSearchingMovie && <Button\r\n        style={{\r\n          backgroundColor: \"black\",\r\n          color: \"white\",\r\n          position: \"absolute\",\r\n          top: \"30px\",\r\n          left: \"30px\",\r\n        }}\r\n        variant=\"contained\"\r\n        startIcon={<Backspace />}\r\n        onClick={handleSearchFieldUnclick}>Back</Button>}\r\n      {props.createState.type !== PostType.ASK_SUGGESTION && <TextField\r\n        label=\"Movie title\"\r\n        variant=\"outlined\"\r\n        style={{width: \"90%\"}}\r\n        onClick={handleSearchFieldClick}\r\n        onChange={handleInputChange.handleMovieTitleInput}\r\n        value={!isSearchingMovie ? \"\" : createInput.movieTitleInputValue}/>}\r\n      {isSearchingMovie ? <MovieSearch\r\n        postType={props.createState.type}\r\n        createInput={createInput}\r\n        moviesList={moviesList}\r\n        handleMovieClick={handleInputChange.handleMovieClick}/> : renderBox(props.createState)}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\MovieSearch.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\AskForSuggestionsBox.js",["155","156","157","158"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InsertPhoto from '@material-ui/icons/InsertPhoto';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {useRef, useCallback, useState} from 'react';\r\nimport Gallery from 'react-photo-gallery';\r\nimport SelectedImage from \"../SelectedImage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function AskForSuggestionsBox(props) {\r\n  const classes = useStyles();\r\n  const form = useRef(null);\r\n  const [selectAll] = useState(false);\r\n  const ASK_SUGGESTION = 'asksuggestion';\r\n\r\n  const {\r\n    createInput,\r\n    deletedExistingFiles,\r\n    handlePostAction,\r\n    post,\r\n    isEditing,\r\n    handleInputChange,\r\n    photoGalleryStylings,\r\n    handleSubmit,\r\n    deletePost,\r\n    formRef\r\n  } = props.renderProps;\r\n\r\n  const imageRenderer = useCallback(\r\n    ({ index, left, top, key, photo }) => (\r\n      <SelectedImage\r\n        selected={selectAll ? true : false}\r\n        key={key}\r\n        margin={\"2px\"}\r\n        index={index}\r\n        photo={photo}\r\n        left={left}\r\n        top={top}\r\n        handleChooseToDeleteFile={handleInputChange.handleChooseToDeleteFile}\r\n        handleChooseNotToDeleteFile={handleInputChange.handleChooseNotToDeleteFile}\r\n      />\r\n    ),\r\n    [selectAll, handleInputChange.handleChooseToDeleteFile, handleInputChange.handleChooseNotToDeleteFile]\r\n  );\r\n\r\n  function uploadPhoto() {\r\n    document.getElementById(\"imageUpload\").click();\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById(\"submit\").click();\r\n  }\r\n\r\n  return <div>\r\n    <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit} ref={formRef}>\r\n      <TextField\r\n        multiline\r\n        label=\"Ask for movie recommendations\"\r\n        rows={12}\r\n        variant=\"outlined\"\r\n        style={{width: \"90%\"}}\r\n        name=\"text\"\r\n        value={createInput.text}\r\n        onChange={handleInputChange.handleTextChange}/>\r\n        <input\r\n          type=\"file\"\r\n          id=\"imageUpload\"\r\n          style={{display: \"none\"}}\r\n          onChange={handleInputChange.handleUploadedFilesChange}/>\r\n        <input type=\"submit\" id=\"submit\" style={{display: \"none\"}}/>\r\n    </form>\r\n    <div>\r\n      {createInput.uploadedFiles.length > 0 && <div style={{\r\n        padding: \"10px\",\r\n      }}>\r\n      <div style={createInput.uploadedFiles.length <= 1 ? photoGalleryStylings[0] : photoGalleryStylings[1]}>\r\n        <Gallery photos={createInput.uploadedFiles} renderImage={imageRenderer} />\r\n      </div>\r\n      <IconButton onClick={handleInputChange.handleDeleteChosenFiles}>\r\n      <DeleteOutlinedIcon />\r\n      </IconButton>\r\n      </div>}\r\n      {createInput.uploadedFiles.length < 4 ? <Button style={{width: \"40%\"}} onClick={uploadPhoto}>\r\n        <InsertPhoto />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Upload Photo</p>\r\n      </Button> : <p style={{fontFamily: \"roboto\"}}>You can only choose up to 4 files.</p>}\r\n    </div>\r\n    <Button\r\n      style={{backgroundColor: \"black\", color: \"white\"}}\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      startIcon={<AddCircleOutline />}\r\n      onClick={submit}>{isEditing ? \"edit\" : \"create\"}</Button>\r\n    {isEditing && <Button\r\n      style={{backgroundColor: \"black\", color: \"white\"}}\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      startIcon={<DeleteOutlinedIcon />}\r\n      onClick={deletePost}>Delete post</Button>}\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\RecommendationBox.js",["159","160","161","162"],"import {useCallback, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InsertPhoto from '@material-ui/icons/InsertPhoto';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\r\nimport Gallery from 'react-photo-gallery';\r\nimport SelectedImage from \"../SelectedImage\";\r\nimport Chip from '@material-ui/core/Chip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch'\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst ratings = [\r\n  {\r\n    value: '1',\r\n    label: '1 (Very Bad)',\r\n  },\r\n  {\r\n    value: '2',\r\n    label: '2 (Bad)',\r\n  },\r\n  {\r\n    value: '3',\r\n    label: '3 (Average)',\r\n  },\r\n  {\r\n    value: '4',\r\n    label: '4 (Good)',\r\n  },\r\n  {\r\n    value: '5',\r\n    label: '5 (Very Good)',\r\n  },\r\n];\r\n\r\nexport default function RecommendationBox(props) {\r\n  const classes = useStyles();\r\n  const [selectAll] = useState(false);\r\n  const RECOMMENDATION = 'recommendation';\r\n\r\n  const {\r\n    createInput,\r\n    deletedExistingFiles,\r\n    handlePostAction,\r\n    post,\r\n    isEditing,\r\n    handleInputChange,\r\n    photoGalleryStylings,\r\n    handleSubmit,\r\n    deletePost,\r\n    formRef\r\n  } = props.renderProps;\r\n\r\n  const imageRenderer = useCallback(\r\n    ({ index, left, top, key, photo }) => (\r\n      <SelectedImage\r\n        selected={selectAll ? true : false}\r\n        key={key}\r\n        margin={\"2px\"}\r\n        index={index}\r\n        photo={photo}\r\n        left={left}\r\n        top={top}\r\n        handleChooseToDeleteFile={handleInputChange.handleChooseToDeleteFile}\r\n        handleChooseNotToDeleteFile={handleInputChange.handleChooseNotToDeleteFile}\r\n      />\r\n    ),\r\n    [selectAll, handleInputChange.handleChooseToDeleteFile, handleInputChange.handleChooseNotToDeleteFile]\r\n  );\r\n\r\n  function uploadPhoto() {\r\n    document.getElementById(\"imageUpload\").click();\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById(\"submit\").click();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit} ref={formRef}>\r\n        {createInput.chosenMovies.length > 0 && <p style={{fontFamily: \"roboto\", marginLeft: \"auto\", marginRight: \"auto\", marginTop: \"8px\"}}>Movie titles</p>}\r\n        {createInput.chosenMovies.length > 0 && <div\r\n          className={classes.movieTags}\r\n          style={{boxShadow: \"1px\",\r\n            borderRadius: \"4px\",\r\n            borderStyle: \"solid\",\r\n            borderColor:\"#b5b5b5\" ,\r\n            borderWidth: \"1px\",\r\n            width: \"400px\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            marginTop: \"9px\"}}>\r\n        {createInput.chosenMovies.map(chosenMovie => {\r\n          return <Chip\r\n            key={chosenMovie.id}\r\n            label={chosenMovie.title}\r\n            onDelete={() => {handleInputChange.handleDeleteChosenMovie(chosenMovie.id)}}\r\n          />\r\n        })}\r\n        </div>}\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">Rate</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            value={createInput.rating}\r\n            onChange={handleInputChange.handleRatingChange}\r\n            label=\"Rating\"\r\n            style={{zIndex: \"1000000000000000000000000000000\"}}\r\n            name=\"rating\"\r\n          >\r\n            {ratings.map((option) => (\r\n              <MenuItem key={option.value} value={option.value}>\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <TextField\r\n          multiline\r\n          label=\"Review for the movie\"\r\n          rows={3}\r\n          variant=\"outlined\"\r\n          style={{width: \"90%\"}}\r\n          name=\"text\"\r\n          value={createInput.text}\r\n          onChange={handleInputChange.handleTextChange}/>\r\n          {createInput.chosenMovies.map(chosenMovie => {\r\n            return <input type=\"hidden\" name=\"chosenMoviesIds[]\" value={chosenMovie.id} key={chosenMovie.id}/>\r\n          })}\r\n        <input\r\n          type=\"file\"\r\n          id=\"imageUpload\"\r\n          style={{display: \"none\"}}\r\n          onChange={handleInputChange.handleUploadedFilesChange}/>\r\n        <input type=\"submit\" id=\"submit\" style={{display: \"none\"}}/>\r\n      </form>\r\n      <div>\r\n      {createInput.uploadedFiles.length > 0 && <div style={{\r\n        padding: \"10px\",\r\n      }}>\r\n      <div style={createInput.uploadedFiles.length <= 1 ? photoGalleryStylings[0] : photoGalleryStylings[1]}>\r\n        <Gallery photos={createInput.uploadedFiles} renderImage={imageRenderer} />\r\n      </div>\r\n      <IconButton onClick={handleInputChange.handleDeleteChosenFiles}>\r\n      <DeleteOutlinedIcon />\r\n      </IconButton>\r\n      </div>}\r\n      {createInput.uploadedFiles.length < 4 ? <Button style={{width: \"40%\"}} onClick={uploadPhoto}>\r\n        <InsertPhoto />\r\n        <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Upload Photo</p>\r\n      </Button> : <p style={{fontFamily: \"roboto\"}}>You can only choose up to 4 files.</p>}\r\n      </div>\r\n      <Button\r\n        style={{backgroundColor: \"black\", color: \"white\"}}\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        startIcon={<AddCircleOutline />}\r\n        onClick={submit}>{isEditing ? \"edit\" : \"create\"}</Button>\r\n      {isEditing && <Button\r\n        style={{backgroundColor: \"black\", color: \"white\"}}\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        startIcon={<DeleteOutlinedIcon />}\r\n        onClick={deletePost}>Delete post</Button>}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\GeneralBox.js",["163","164","165","166"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InsertPhoto from '@material-ui/icons/InsertPhoto';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport {useCallback, useState} from 'react';\r\nimport Gallery from 'react-photo-gallery';\r\nimport SelectedImage from \"../SelectedImage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  movieTags: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function GeneralBox(props) {\r\n  const classes = useStyles();\r\n  const [selectAll] = useState(false);\r\n  const GENERAL = 'general';\r\n\r\n  const {\r\n    createInput,\r\n    deletedExistingFiles,\r\n    handlePostAction,\r\n    post,\r\n    isEditing,\r\n    handleInputChange,\r\n    photoGalleryStylings,\r\n    handleSubmit,\r\n    deletePost,\r\n    formRef\r\n  } = props.renderProps;\r\n\r\n  const imageRenderer = useCallback(\r\n    ({ index, left, top, key, photo }) => (\r\n      <SelectedImage\r\n        selected={selectAll ? true : false}\r\n        key={key}\r\n        margin={\"2px\"}\r\n        index={index}\r\n        photo={photo}\r\n        left={left}\r\n        top={top}\r\n        handleChooseToDeleteFile={handleInputChange.handleChooseToDeleteFile}\r\n        handleChooseNotToDeleteFile={handleInputChange.handleChooseNotToDeleteFile}\r\n      />\r\n    ),\r\n    [selectAll, handleInputChange.handleChooseToDeleteFile, handleInputChange.handleChooseNotToDeleteFile]\r\n  );\r\n\r\n  function uploadPhoto() {\r\n    document.getElementById(\"imageUpload\").click();\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById(\"submit\").click();\r\n  }\r\n\r\n  return <div>\r\n    <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit} ref={formRef}>\r\n      {createInput.chosenMovies.length > 0 && <p style={{fontFamily: \"roboto\", marginLeft: \"auto\", marginRight: \"auto\", marginTop: \"8px\"}}>Movie titles</p>}\r\n      {createInput.chosenMovies.length > 0 && <div\r\n        className={classes.movieTags}\r\n        style={{boxShadow: \"1px\",\r\n          borderRadius: \"4px\",\r\n          borderStyle: \"solid\",\r\n          borderColor:\"#b5b5b5\" ,\r\n          borderWidth: \"1px\",\r\n          width: \"400px\",\r\n          marginLeft: \"auto\",\r\n          marginRight: \"auto\",\r\n          marginTop: \"9px\"}}>\r\n      {createInput.chosenMovies.map(chosenMovie => {\r\n        return <Chip\r\n          key={chosenMovie.id}\r\n          label={chosenMovie.title}\r\n          onDelete={() => {handleInputChange.handleDeleteChosenMovie(chosenMovie.id)}}\r\n        />\r\n      })}\r\n      </div>}\r\n      <TextField\r\n        multiline\r\n        label=\"Create a general post\"\r\n        rows={7}\r\n        variant=\"outlined\"\r\n        style={{width: \"90%\"}}\r\n        name=\"text\"\r\n        value={createInput.text}\r\n        onChange={handleInputChange.handleTextChange}/>\r\n      {createInput.chosenMovies.map(chosenMovie => {\r\n        return <input type=\"hidden\" name=\"chosenMoviesIds[]\" key={chosenMovie.id} value={chosenMovie.id}/>\r\n      })}\r\n      <input\r\n        type=\"file\"\r\n        id=\"imageUpload\"\r\n        style={{display: \"none\"}}\r\n        onChange={handleInputChange.handleUploadedFilesChange}/>\r\n      <input type=\"submit\" id=\"submit\" style={{display: \"none\"}}/>\r\n    </form>\r\n    <div>\r\n\r\n    {createInput.uploadedFiles.length > 0 && <div style={{\r\n      padding: \"10px\",\r\n    }}>\r\n    <div style={createInput.uploadedFiles.length <= 1 ? photoGalleryStylings[0] : photoGalleryStylings[1]}>\r\n      <Gallery photos={createInput.uploadedFiles} renderImage={imageRenderer} />\r\n    </div>\r\n    <IconButton onClick={handleInputChange.handleDeleteChosenFiles}>\r\n    <DeleteOutlinedIcon />\r\n    </IconButton>\r\n    </div>}\r\n\r\n    {createInput.uploadedFiles.length < 4 ? <Button style={{width: \"40%\"}} onClick={uploadPhoto}>\r\n      <InsertPhoto />\r\n      <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Upload Photo</p>\r\n    </Button> : <p style={{fontFamily: \"roboto\"}}>You can only choose up to 4 files.</p>}\r\n    </div>\r\n    <Button\r\n      style={{backgroundColor: \"black\", color: \"white\"}}\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      startIcon={<AddCircleOutline />}\r\n      onClick={submit}>{isEditing ? \"edit\" : \"create\"}</Button>\r\n    {isEditing && <Button\r\n      style={{backgroundColor: \"black\", color: \"white\"}}\r\n      variant=\"contained\"\r\n      className={classes.button}\r\n      startIcon={<DeleteOutlinedIcon />}\r\n      onClick={deletePost}>Delete post</Button>}\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\DiaryBox.js",["167","168","169","170"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InsertPhoto from '@material-ui/icons/InsertPhoto';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport {useCallback, useState} from 'react';\r\nimport Gallery from 'react-photo-gallery';\r\nimport SelectedImage from \"../SelectedImage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  movieTags: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: theme.spacing(0.5),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function DiaryBox(props) {\r\n  const classes = useStyles();\r\n  const [selectAll] = useState(false);\r\n  const DIARY = 'diary';\r\n\r\n  const {\r\n    createInput,\r\n    deletedExistingFiles,\r\n    handlePostAction,\r\n    post,\r\n    isEditing,\r\n    handleInputChange,\r\n    photoGalleryStylings,\r\n    handleSubmit,\r\n    deletePost,\r\n    formRef\r\n  } = props.renderProps;\r\n\r\n  const imageRenderer = useCallback(\r\n    ({ index, left, top, key, photo }) => (\r\n      <SelectedImage\r\n        selected={selectAll ? true : false}\r\n        key={key}\r\n        margin={\"2px\"}\r\n        index={index}\r\n        photo={photo}\r\n        left={left}\r\n        top={top}\r\n        handleChooseToDeleteFile={handleInputChange.handleChooseToDeleteFile}\r\n        handleChooseNotToDeleteFile={handleInputChange.handleChooseNotToDeleteFile}\r\n      />\r\n    ),\r\n    [selectAll, handleInputChange.handleChooseToDeleteFile, handleInputChange.handleChooseNotToDeleteFile]\r\n  );\r\n\r\n  function uploadPhoto() {\r\n    document.getElementById(\"imageUpload\").click();\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById(\"submit\").click();\r\n  }\r\n\r\n  return <div>\r\n    <div id = \"createDiaryForm\">\r\n      <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit} ref={formRef}>\r\n        {createInput.chosenMovies.length > 0 && <p style={{fontFamily: \"roboto\", marginLeft: \"auto\", marginRight: \"auto\", marginTop: \"8px\"}}>Movie titles</p>}\r\n        {createInput.chosenMovies.length > 0 && <div\r\n          className={classes.movieTags}\r\n          style={{boxShadow: \"1px\",\r\n            borderRadius: \"4px\",\r\n            borderStyle: \"solid\",\r\n            borderColor:\"#b5b5b5\" ,\r\n            borderWidth: \"1px\",\r\n            width: \"400px\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            marginTop: \"9px\"}}>\r\n        {createInput.chosenMovies.map(chosenMovie => {\r\n          return <Chip\r\n            key={chosenMovie.id}\r\n            label={chosenMovie.title}\r\n            onDelete={() => {handleInputChange.handleDeleteChosenMovie(chosenMovie.id)}}\r\n          />\r\n        })}\r\n        </div>}\r\n        <TextField\r\n          label=\"Diary Title\"\r\n          variant=\"outlined\"\r\n          name=\"title\"\r\n          style={{width: \"90%\"}}\r\n          value={createInput.diaryTitle}\r\n          onChange={handleInputChange.handleDiaryTitleChange}/>\r\n        <TextField\r\n          multiline\r\n          label=\"Share your story\"\r\n          rows={4}\r\n          name=\"text\"\r\n          variant=\"outlined\"\r\n          style={{width: \"90%\"}}\r\n          value={createInput.text}\r\n          onChange={handleInputChange.handleTextChange}/>\r\n        {createInput.chosenMovies.map(chosenMovie => {\r\n          return <input type=\"hidden\" key={chosenMovie.id} name=\"chosenMoviesIds[]\" value={chosenMovie.id}/>\r\n        })}\r\n        <input\r\n          type=\"file\"\r\n          id=\"imageUpload\"\r\n          style={{display: \"none\"}}\r\n          onChange={handleInputChange.handleUploadedFilesChange}/>\r\n        <input type=\"submit\" id=\"submit\" style={{display: \"none\"}}/>\r\n      </form>\r\n      <div>\r\n\r\n      {createInput.uploadedFiles.length > 0 && <div style={{\r\n        padding: \"10px\",\r\n      }}>\r\n      <div style={createInput.uploadedFiles.length <= 1 ? photoGalleryStylings[0] : photoGalleryStylings[1]}>\r\n        <Gallery photos={createInput.uploadedFiles} renderImage={imageRenderer} />\r\n      </div>\r\n      <IconButton onClick={handleInputChange.handleDeleteChosenFiles}>\r\n      <DeleteOutlinedIcon />\r\n      </IconButton>\r\n      </div>}\r\n\r\n\r\n        {createInput.uploadedFiles.length < 4 ? <Button style={{width: \"40%\"}} onClick={uploadPhoto}>\r\n          <InsertPhoto />\r\n          <p style={{fontFamily: 'Roboto', marginLeft: \"6px\"}}>Upload Photo</p>\r\n        </Button> : <p style={{fontFamily: \"roboto\"}}>You can only choose up to 4 files.</p>}\r\n      </div>\r\n      <Button\r\n        style={{backgroundColor: \"black\", color: \"white\"}}\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        startIcon={<AddCircleOutline />}\r\n        onClick={submit}>{isEditing ? \"edit\" : \"create\"}</Button>\r\n      {isEditing && <Button\r\n        style={{backgroundColor: \"black\", color: \"white\"}}\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        startIcon={<DeleteOutlinedIcon />}\r\n        onClick={deletePost}>Delete post</Button>}\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\SelectedImage.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoForm.js",["171"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {useState, useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from 'react-avatar-edit';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  large: {\r\n    width: theme.spacing(17),\r\n    height: theme.spacing(17),\r\n  },\r\n}));\r\n\r\nexport default function UserInfoForm(props) {\r\n  const classes = useStyles();\r\n  const [nickname, setNickname] = useState(props.user.nickname ? props.user.nickname : \"\");\r\n  const [regexAlert, setRegexAlert] = useState(false);\r\n  const [nicknameExistsAlert, setNicknameExistsAlert] = useState(false);\r\n  const [imageUploadAlert, setImageUploadAlert] = useState(false);\r\n  const [unableDeleteAccount, setUnableDeleteAccount] = useState(false);\r\n  const [avatarData, setAvatarData] = useState({\r\n    preview: null,\r\n    src: null,\r\n    file: null,\r\n    currentExtension: null,\r\n    originalFile: null\r\n  });\r\n\r\n  function onClose() {\r\n    setAvatarData({preview: null, src: null, file: null, originalFile: null});\r\n  }\r\n\r\n  async function onCrop(preview) {\r\n    setAvatarData(prevData => {\r\n      return {...prevData, preview};\r\n    })\r\n    const currentExtension = avatarData.currentExtension;\r\n    const file = await urltoFile(preview, 'userImage.' + currentExtension, 'image/' + currentExtension)\r\n    setAvatarData(prevData => {\r\n      return {...prevData, file: file};\r\n    })\r\n  }\r\n\r\n  function onBeforeFileLoad(event) {\r\n    const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n    const file = event.target.files[0];\r\n    if (file.size > 1000000000000000) {\r\n      setImageUploadAlert(true);\r\n      event.target.value = \"\";\r\n    } else if (!re.test(file.name)) {\r\n      setImageUploadAlert(true);\r\n    } else {\r\n      const separator = /(?:\\.([^.]+))?$/;\r\n      setAvatarData(prevData => {\r\n        return {...prevData, currentExtension: separator.exec(file.name)[1], originalFile: file};\r\n      })\r\n    }\r\n  }\r\n\r\n  function urltoFile(url, filename, mimeType){\r\n    return (fetch(url)\r\n        .then(function(res){return res.arrayBuffer();})\r\n        .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n    );\r\n  }\r\n\r\n  function handleNicknameChange(event) {\r\n    console.log(event.target.value);\r\n    if (event.target.value.length > 30) {\r\n      setNickname(event.target.value.slice(0, 30));\r\n    } else {\r\n      setNickname(event.target.value);\r\n    }\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById('submit').click();\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (props.userInfoFormDisplayed && nickname === props.user.nickname) {\r\n      props.undisplayUserInfoForm();\r\n    }\r\n    setNicknameExistsAlert(false);\r\n    setImageUploadAlert(false);\r\n    if (nickname.length === 0) {\r\n      return;\r\n    }\r\n    var re = /^\\w+$/;\r\n    if (!re.test(nickname)) {\r\n      setRegexAlert(true);\r\n    } else {\r\n      const formData = new FormData();\r\n      formData.append('nickname', nickname);\r\n      if (avatarData.file) {\r\n        formData.append('userProfileImageCropped', avatarData.file);\r\n        formData.append('userProfileImageOriginal', avatarData.originalFile);\r\n      }\r\n      if (props.userInfoFormDisplayed) {\r\n        fetch('/user/editProfile', {method: 'POST', body: formData})\r\n            .then(res => res.json())\r\n            .catch(err => console.log(err))\r\n            .then(nicknameExists => {\r\n              if (nicknameExists === true) {\r\n                setNicknameExistsAlert(true);\r\n              } else {\r\n                window.location.href = \"/profile/\" + props.user._id;\r\n              }\r\n            })\r\n      } else {\r\n        fetch('/user/createProfile', {method: 'POST', body: formData})\r\n            .then(res => res.json())\r\n            .catch(err => console.log(err))\r\n            .then(nicknameExists => {\r\n              if (nicknameExists) {\r\n                setNicknameExistsAlert(true);\r\n              } else {\r\n                window.location.href = \"/\";\r\n              }\r\n            });\r\n      }\r\n    }\r\n  }\r\n\r\n  function deleteAccount() {\r\n    fetch('/user/delete', {\r\n      method: \"POST\"\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(isDeleted => {\r\n      if (isDeleted) {\r\n        window.open(\"/auth/logout\", \"_self\");\r\n      } else {\r\n        setUnableDeleteAccount(true);\r\n      }\r\n    })\r\n  }\r\n\r\n  return <div style={{\r\n        position: \"absolute\",\r\n        zIndex: \"9000000000000000000000000000000000000000\",\r\n        width: \"500px\",\r\n        height: \"590px\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        backgroundColor: \"white\",\r\n        top: \"3em\",\r\n        bottom: \"0\",\r\n        left: \"0\",\r\n        right: \"0\",\r\n        borderRadius: \"5px\",\r\n        boxShadow: \"0 0 20px #999\",\r\n        paddingLeft: \"5px\",\r\n        paddingRight: \"5px\",\r\n        paddingBottom: \"2em\",\r\n        overflow: \"auto\"}}>\r\n        {props.userInfoFormDisplayed && <IconButton style={{top: \"10px\", right: \"10px\", position: \"absolute\", zIndex: \"4000000000000000000000000\"}} onClick={props.undisplayUserInfoForm}>\r\n          <Clear/>\r\n        </IconButton>}\r\n        <h1 style={{userSelect: \"none\"}}>Movelp</h1>\r\n        {(props.userInfoFormDisplayed && props.user.profileImageUrlCropped) && <ReactAvatar\r\n            style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\", margin: \"auto\"}}\r\n            alt={props.user.nickname}\r\n            src={props.user.profileImageUrlCropped ? props.user.profileImageUrlCropped : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n            className={classes.large} />}\r\n        <p style={{fontFamily: 'roboto'}}>CREATE A NICKNAME</p>\r\n        <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n          <TextField\r\n            label=\"Nickname\"\r\n            variant=\"outlined\"\r\n            name=\"nickname\"\r\n            value={nickname}\r\n            onChange={handleNicknameChange}\r\n            style={{width: \"90%\"}}/>\r\n          {regexAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Nicknames can only use letters, numbers, and underscores.</p>}\r\n          {nicknameExistsAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>This nickname isn't available. Please try another.</p>}\r\n\r\n          <p style={{fontFamily: 'roboto', margin: \"auto\", marginTop: \"2em\"}}>UPLOAD A PROFILE PICTURE</p>\r\n          {imageUploadAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Uploaded image doesn't match requirements.</p>}\r\n          <div style={{marginLeft: \"auto\", marginRight: \"auto\", width: \"60%\"}}>\r\n            <Avatar\r\n              minCropRadius={80}\r\n              width={300}\r\n              height={250}\r\n              onCrop={onCrop}\r\n              onClose={onClose}\r\n              onBeforeFileLoad={onBeforeFileLoad}\r\n              src={avatarData.src}\r\n            />\r\n          </div>\r\n          {avatarData.preview && <div style={{margin: \"auto\"}}><img src={avatarData.preview} alt=\"Preview\" /></div>}\r\n          {unableDeleteAccount && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Unable to delete account.</p>}\r\n          {props.userInfoFormDisplayed && <Button\r\n            style={{backgroundColor: \"black\", color: \"white\", marginTop: \"1em\"}}\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            onClick={deleteAccount}>delete account</Button>}\r\n          <Button\r\n            style={{backgroundColor: \"black\", color: \"white\", marginTop: \"1em\"}}\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            onClick={submit}>{props.userInfoFormDisplayed ? \"edit\" : \"submit\"}</Button>\r\n          <input style={{display: \"none\"}} type=\"submit\" id=\"submit\"/>\r\n        </form>\r\n    </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\Comment.js",["172"],"import React, {useState, useRef, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Comment(props) {\r\n  const classes = useStyles();\r\n  const VISIBLE = \"visible\";\r\n  const HIDDEN = \"hidden\";\r\n  const [creatorProfileImageUrl, setCreatorProfileImageUrl] = useState();\r\n  const [buttonsVisibility, setButtonsVisibility] = useState(HIDDEN);\r\n  const [text, setText] = useState(props.text);\r\n  const [editedText, setEditedText] = useState(text);\r\n  const editForm = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n    const formData = new FormData();\r\n    formData.append('userId', props.creatorId);\r\n    fetch('/user/getProfileImageUrl', {method: 'POST', body: formData})\r\n        .then(res => res.json())\r\n        .catch(err => console.log(err))\r\n        .then(res => {\r\n          setCreatorProfileImageUrl(res.url);\r\n        })\r\n        .catch(err => console.log(err));\r\n    return () => {ac.abort()};\r\n  }, [])\r\n\r\n  function displayButtons() {\r\n    if (props.isCreatedByUser) {\r\n      setButtonsVisibility(VISIBLE);\r\n    }\r\n  }\r\n\r\n  function hideButtons() {\r\n    setButtonsVisibility(HIDDEN);\r\n  }\r\n\r\n  function handleEditSubmit(event) {\r\n    event.preventDefault();\r\n    if (editedText.trim().length > 0) {\r\n      props.handleEditCommentUnclick();\r\n      setText(editedText);\r\n      const formData = new FormData(editForm.current);\r\n      formData.append(\"commentId\", props._id);\r\n      fetch('/comment/edit', {method: \"POST\", body: formData});\r\n    }\r\n  }\r\n\r\n  function handleEditedTextChange(event) {\r\n    setEditedText(event.target.value);\r\n  }\r\n\r\n  function renderTime() {\r\n    const today = new Date(parseInt(Date.parse(props.timeOfCreation), 10));\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    return mm + '/' + dd + '/' + yyyy;\r\n  }\r\n\r\n  return <div style={{marginBottom: \"1em\", textAlign: \"left\", display: \"flex\"}} onMouseOver={displayButtons} onMouseOut={hideButtons}>\r\n    <div className={classes.root}>\r\n      <Avatar src={creatorProfileImageUrl ? creatorProfileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'} />\r\n    </div>\r\n    <div style={{backgroundColor: \"#F0F2F5\", paddingLeft: \"10px\", paddingRight: \"10px\", borderRadius: \"15px\",  wordWrap: \"break-word\", maxWidth: \"70%\"}}>\r\n      <p style={{bottom: \"0\", fontFamily: \"roboto\", fontSize: \"0.9em\", fontWeight: \"700\", marginBottom: \"0\", width: \"100%\"}}>{props.creatorName}</p>\r\n      <p style={{marginTop: \"0\", fontFamily: \"roboto\", fontSize: \"0.7em\"}}>{renderTime()}</p>\r\n      {props.editedCommentId === props._id ? <form onSubmit={handleEditSubmit} ref={editForm}>\r\n        <TextField\r\n          style={{marginBottom: \"1em\", width: \"100%\"}}\r\n          value={editedText}\r\n          onChange={handleEditedTextChange}\r\n          name=\"text\"/>\r\n        <input type=\"file\" style={{display: \"none\"}}/>\r\n      </form> : <p style={{bottom: \"0\", fontFamily: \"roboto\", fontSize: \"0.9em\", marginTop: \"0\",  wordWrap: \"break-word\"}}>{text}</p>}\r\n    </div>\r\n    <div style={{visibility: buttonsVisibility}}>\r\n      {props.editedCommentId === props._id && <IconButton onClick={props.handleEditCommentUnclick}>\r\n        <CancelIcon />\r\n      </IconButton>}\r\n      <IconButton onClick={() => {\r\n        props.handleEditCommentClick(props._id);\r\n      }}>\r\n        <EditOutlinedIcon />\r\n      </IconButton>\r\n      <IconButton onClick={() => {\r\n        props.handleDeleteComment(props._id);\r\n      }}>\r\n        <DeleteOutlineIcon />\r\n      </IconButton>\r\n    </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoBox.js",["173","174","175"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  small: {\r\n    width: theme.spacing(8),\r\n    height: theme.spacing(8),\r\n  },\r\n  large: {\r\n    width: theme.spacing(17),\r\n    height: theme.spacing(17),\r\n  },\r\n  buttonBrowser: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\"\r\n  },\r\n  buttonMobile: {\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\",\r\n    fontSize: \"10px\",\r\n    width: \"20px\"\r\n  }\r\n}));\r\n\r\nexport default function UserInfoBox(props) {\r\n  const classes = useStyles();\r\n\r\n  return <div style={{\r\n      width: isBrowser ? \"700px\" : \"90%\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: \"1em\",\r\n      marginBottom: \"1em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\",\r\n      paddingLeft: \"1em\",\r\n      paddingBottom: \"1em\"}}>\r\n      <div style={{width: \"100%\", margin: \"auto\", textAlign: \"left\", display: \"flex\", position: \"relative\"}}>\r\n        <Avatar\r\n          style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\", marginTop: \"10px\"}}\r\n          alt={props.user.nickname}\r\n          src={props.creator.profileImageUrl ? props.creator.profileImageUrl : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n          className={isBrowser ? classes.large : classes.small} />\r\n        <div style={{marginLeft: \"2em\", marginTop: \"1em\"}}>\r\n          {isBrowser ?\r\n          <h1 style={{fontFamily: \"roboto\", fontWeight: \"normal\", marginBottom: \"0.2em\"}}>{props.creator.nickname.toUpperCase()}</h1> :\r\n          <h3 style={{fontFamily: \"roboto\", fontWeight: \"normal\", marginBottom: \"0.2em\"}}>{props.creator.nickname.toUpperCase()}</h3>}\r\n          <div style={{marginTop: \"0\", textAlign: \"left\", padding: \"5px\", display: \"flex\"}}>\r\n            <p style={{marginTop: \"0\", fontFamily: \"roboto\"}}><b>{props.creator.numOfPosts}</b> posts</p>\r\n          </div>\r\n        </div>\r\n        {props.user._id === props.creator._id && <div style={{position: \"absolute\", width: \"100%\"}}>\r\n            <Button\r\n              onClick={props.displayUserInfoForm}\r\n              style={{backgroundColor: \"black\", color: \"white\"}}\r\n              variant=\"contained\"\r\n              className={isBrowser ? classes.buttonBrowser : classes.buttonMobile}>Edit Profile</Button>\r\n        </div>}\r\n      </div>\r\n  </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Movie.js",["176"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostsFetchTypeContext.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\MovieInfoBox.js",["177","178","179","180","181","182","183"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useEffect, useState} from 'react';\r\nimport {\r\n  isBrowser,\r\n  isMobile\r\n} from \"react-device-detect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  large: {\r\n    width: theme.spacing(17),\r\n    height: theme.spacing(17),\r\n  },\r\n}));\r\n\r\nexport default function MovieInfoBox(props) {\r\n  const classes = useStyles();\r\n  const [movieData, setMovieData] = useState();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      var movieDataRaw =\r\n          await fetch(\"https://api.themoviedb.org/3/movie/\" + props.movieId + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n      if (movieDataRaw.status === 404) {\r\n        movieDataRaw = await fetch(\"https://api.themoviedb.org/3/tv/\" + props.movieId + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n      }\r\n      const movie = await movieDataRaw.json();\r\n      var title;\r\n      if (movie.title) {\r\n        title = movie.title;\r\n      } else {\r\n        title = movie.name;\r\n      }\r\n\r\n      var genres = \"\";\r\n      if (movie.genres) {\r\n        for (var i = 0; i < movie.genres.length; i++) {\r\n          genres += (\" \" + movie.genres[i].name);\r\n          if (i !== movie.genres.length - 1) {\r\n            genres += \" |\";\r\n          }\r\n        }\r\n      }\r\n      const releaseDate = movie.release_date;\r\n      const overview = movie.overview;\r\n      const runtime = movie.runtime;\r\n      const posterUrl = !movie.poster_path ? process.env.PUBLIC_URL + '/images/defaultImage.png' : \"https://image.tmdb.org/t/p/w500\" + movie.poster_path;\r\n\r\n      setMovieData({\r\n        title: title,\r\n        genres: genres,\r\n        releaseDate: releaseDate,\r\n        overview: overview,\r\n        posterUrl: posterUrl,\r\n        runtime: runtime\r\n      })\r\n    }\r\n\r\n    fetchData();\r\n  }, [])\r\n  return <div style={{\r\n      margin: isBrowser && \"auto\",\r\n      width: isBrowser ? \"300px\" : \"100%\",\r\n      backgroundColor: \"white\",\r\n      top: \"0em\",\r\n      borderRadius: \"5px\",\r\n      boxShadow: \"0 0 2px #999\",\r\n      paddingTop: \"1em\",\r\n      paddingBottom: \"1em\",\r\n      marginTop: isBrowser && \"6em\",\r\n      position: isBrowser && \"absolute\"}}>\r\n      {movieData && <div style={{width: \"100%\", margin: \"auto\", position: \"relative\"}}>\r\n        <img\r\n          style={{borderStyle: \"solid\", borderRadius: \"10px\", borderColor: \"#F0F2F5\", borderWidth: \"2px\", width: \"17em\", margin: \"auto\", height: \"21em\"}}\r\n          alt=\"movie poster\"\r\n          src={movieData.posterUrl}/>\r\n        <div style={{textAlign: \"center\"}}>\r\n          <h1 style={{fontFamily: \"roboto\", fontWeight: \"normal\", marginBottom: \"0.2em\"}}>{movieData.title}</h1>\r\n          <p style={{marginTop: \"0\", marginBottom: \"0.4em\", fontFamily: \"roboto\"}}>Release Date: <b>{movieData.releaseDate}</b></p>\r\n          <p style={{marginTop: \"0\", marginBottom: \"0.4em\", fontFamily: \"roboto\"}}>Genres: <b>{movieData.genres}</b></p>\r\n          <p style={{marginTop: \"0\", marginBottom: \"0.4em\", fontFamily: \"roboto\"}}>Runtime: <b>{movieData.runtime} minutes</b></p>\r\n        </div>\r\n      </div>}\r\n  </div>\r\n}\r\n",{"ruleId":"184","replacedBy":"185"},{"ruleId":"186","replacedBy":"187"},{"ruleId":"188","severity":1,"message":"189","line":2,"column":10,"nodeType":"190","messageId":"191","endLine":2,"endColumn":18},{"ruleId":"188","severity":1,"message":"192","line":8,"column":3,"nodeType":"190","messageId":"191","endLine":8,"endColumn":14},{"ruleId":"188","severity":1,"message":"193","line":9,"column":3,"nodeType":"190","messageId":"191","endLine":9,"endColumn":13},{"ruleId":"188","severity":1,"message":"194","line":19,"column":10,"nodeType":"190","messageId":"191","endLine":19,"endColumn":29},{"ruleId":"188","severity":1,"message":"195","line":19,"column":31,"nodeType":"190","messageId":"191","endLine":19,"endColumn":53},{"ruleId":"188","severity":1,"message":"196","line":22,"column":12,"nodeType":"190","messageId":"191","endLine":22,"endColumn":32},{"ruleId":"188","severity":1,"message":"197","line":27,"column":3,"nodeType":"190","messageId":"191","endLine":27,"endColumn":11},{"ruleId":"188","severity":1,"message":"197","line":4,"column":3,"nodeType":"190","messageId":"191","endLine":4,"endColumn":11},{"ruleId":"188","severity":1,"message":"198","line":4,"column":8,"nodeType":"190","messageId":"191","endLine":4,"endColumn":17},{"ruleId":"188","severity":1,"message":"199","line":6,"column":8,"nodeType":"190","messageId":"191","endLine":6,"endColumn":18},{"ruleId":"188","severity":1,"message":"200","line":9,"column":3,"nodeType":"190","messageId":"191","endLine":9,"endColumn":12},{"ruleId":"188","severity":1,"message":"197","line":10,"column":3,"nodeType":"190","messageId":"191","endLine":10,"endColumn":11},{"ruleId":"188","severity":1,"message":"197","line":11,"column":3,"nodeType":"190","messageId":"191","endLine":11,"endColumn":11},{"ruleId":"188","severity":1,"message":"197","line":20,"column":3,"nodeType":"190","messageId":"191","endLine":20,"endColumn":11},{"ruleId":"201","severity":1,"message":"202","line":92,"column":6,"nodeType":"203","endLine":92,"endColumn":22,"suggestions":"204"},{"ruleId":"188","severity":1,"message":"197","line":19,"column":3,"nodeType":"190","messageId":"191","endLine":19,"endColumn":11},{"ruleId":"188","severity":1,"message":"197","line":17,"column":3,"nodeType":"190","messageId":"191","endLine":17,"endColumn":11},{"ruleId":"188","severity":1,"message":"205","line":145,"column":12,"nodeType":"190","messageId":"191","endLine":145,"endColumn":22},{"ruleId":"188","severity":1,"message":"197","line":20,"column":3,"nodeType":"190","messageId":"191","endLine":20,"endColumn":11},{"ruleId":"201","severity":1,"message":"202","line":91,"column":6,"nodeType":"203","endLine":91,"endColumn":22,"suggestions":"206"},{"ruleId":"188","severity":1,"message":"197","line":16,"column":3,"nodeType":"190","messageId":"191","endLine":16,"endColumn":11},{"ruleId":"201","severity":1,"message":"207","line":103,"column":6,"nodeType":"203","endLine":103,"endColumn":8,"suggestions":"208"},{"ruleId":"209","severity":1,"message":"210","line":187,"column":41,"nodeType":"211","messageId":"212","endLine":189,"endColumn":12},{"ruleId":"188","severity":1,"message":"213","line":28,"column":9,"nodeType":"190","messageId":"191","endLine":28,"endColumn":23},{"ruleId":"188","severity":1,"message":"214","line":32,"column":5,"nodeType":"190","messageId":"191","endLine":32,"endColumn":25},{"ruleId":"188","severity":1,"message":"215","line":33,"column":5,"nodeType":"190","messageId":"191","endLine":33,"endColumn":21},{"ruleId":"188","severity":1,"message":"216","line":34,"column":5,"nodeType":"190","messageId":"191","endLine":34,"endColumn":9},{"ruleId":"188","severity":1,"message":"217","line":63,"column":9,"nodeType":"190","messageId":"191","endLine":63,"endColumn":23},{"ruleId":"188","severity":1,"message":"214","line":67,"column":5,"nodeType":"190","messageId":"191","endLine":67,"endColumn":25},{"ruleId":"188","severity":1,"message":"215","line":68,"column":5,"nodeType":"190","messageId":"191","endLine":68,"endColumn":21},{"ruleId":"188","severity":1,"message":"216","line":69,"column":5,"nodeType":"190","messageId":"191","endLine":69,"endColumn":9},{"ruleId":"188","severity":1,"message":"218","line":36,"column":9,"nodeType":"190","messageId":"191","endLine":36,"endColumn":16},{"ruleId":"188","severity":1,"message":"214","line":40,"column":5,"nodeType":"190","messageId":"191","endLine":40,"endColumn":25},{"ruleId":"188","severity":1,"message":"215","line":41,"column":5,"nodeType":"190","messageId":"191","endLine":41,"endColumn":21},{"ruleId":"188","severity":1,"message":"216","line":42,"column":5,"nodeType":"190","messageId":"191","endLine":42,"endColumn":9},{"ruleId":"188","severity":1,"message":"219","line":36,"column":9,"nodeType":"190","messageId":"191","endLine":36,"endColumn":14},{"ruleId":"188","severity":1,"message":"214","line":40,"column":5,"nodeType":"190","messageId":"191","endLine":40,"endColumn":25},{"ruleId":"188","severity":1,"message":"215","line":41,"column":5,"nodeType":"190","messageId":"191","endLine":41,"endColumn":21},{"ruleId":"188","severity":1,"message":"216","line":42,"column":5,"nodeType":"190","messageId":"191","endLine":42,"endColumn":9},{"ruleId":"188","severity":1,"message":"220","line":3,"column":19,"nodeType":"190","messageId":"191","endLine":3,"endColumn":28},{"ruleId":"201","severity":1,"message":"221","line":41,"column":6,"nodeType":"203","endLine":41,"endColumn":8,"suggestions":"222"},{"ruleId":"188","severity":1,"message":"223","line":3,"column":8,"nodeType":"190","messageId":"191","endLine":3,"endColumn":20},{"ruleId":"188","severity":1,"message":"224","line":4,"column":8,"nodeType":"190","messageId":"191","endLine":4,"endColumn":18},{"ruleId":"188","severity":1,"message":"197","line":8,"column":3,"nodeType":"190","messageId":"191","endLine":8,"endColumn":11},{"ruleId":"188","severity":1,"message":"197","line":8,"column":3,"nodeType":"190","messageId":"191","endLine":8,"endColumn":11},{"ruleId":"188","severity":1,"message":"225","line":2,"column":8,"nodeType":"190","messageId":"191","endLine":2,"endColumn":14},{"ruleId":"188","severity":1,"message":"223","line":3,"column":8,"nodeType":"190","messageId":"191","endLine":3,"endColumn":20},{"ruleId":"188","severity":1,"message":"224","line":4,"column":8,"nodeType":"190","messageId":"191","endLine":4,"endColumn":18},{"ruleId":"188","severity":1,"message":"226","line":5,"column":8,"nodeType":"190","messageId":"191","endLine":5,"endColumn":14},{"ruleId":"188","severity":1,"message":"197","line":9,"column":3,"nodeType":"190","messageId":"191","endLine":9,"endColumn":11},{"ruleId":"188","severity":1,"message":"227","line":20,"column":9,"nodeType":"190","messageId":"191","endLine":20,"endColumn":16},{"ruleId":"201","severity":1,"message":"228","line":63,"column":6,"nodeType":"203","endLine":63,"endColumn":8,"suggestions":"229"},"no-native-reassign",["230"],"no-negated-in-lhs",["231"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'BrowserView' is defined but never used.","'MobileView' is defined but never used.","'unableDeleteAccount' is assigned a value but never used.","'setUnableDeleteAccount' is assigned a value but never used.","'setEditedUserProfile' is defined but never used.","'isMobile' is defined but never used.","'InputBase' is defined but never used.","'SearchIcon' is defined but never used.","'isBrowser' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.post.movieIds'. Either include it or remove the dependency array.","ArrayExpression",["232"],"'renderTime' is defined but never used.",["233"],"React Hook useEffect has missing dependencies: 'props.createState.data.post.fileIds', 'props.createState.data.post.movieIds', 'props.createState.data.post.rating', 'props.createState.data.post.text', 'props.createState.data.post.title', 'props.createState.data.urls', and 'props.createState.isEditing'. Either include them or remove the dependency array. If 'setCreateInput' needs the current value of 'props.createState.data.post.title', you can also switch to useReducer instead of useState and read 'props.createState.data.post.title' in the reducer.",["234"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'i'.","ArrowFunctionExpression","unsafeRefs","'ASK_SUGGESTION' is assigned a value but never used.","'deletedExistingFiles' is assigned a value but never used.","'handlePostAction' is assigned a value but never used.","'post' is assigned a value but never used.","'RECOMMENDATION' is assigned a value but never used.","'GENERAL' is assigned a value but never used.","'DIARY' is assigned a value but never used.","'useEffect' is defined but never used.","React Hook useEffect has a missing dependency: 'props.creatorId'. Either include it or remove the dependency array.",["235"],"'SettingsIcon' is defined but never used.","'IconButton' is defined but never used.","'Avatar' is defined but never used.","'Button' is defined but never used.","'classes' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props.movieId'. Either include it or remove the dependency array.",["236"],"no-global-assign","no-unsafe-negation",{"desc":"237","fix":"238"},{"desc":"237","fix":"239"},{"desc":"240","fix":"241"},{"desc":"242","fix":"243"},{"desc":"244","fix":"245"},"Update the dependencies array to be: [props.post._id, props.post.movieIds]",{"range":"246","text":"247"},{"range":"248","text":"247"},"Update the dependencies array to be: [props.createState.data.post.fileIds, props.createState.data.post.movieIds, props.createState.data.post.rating, props.createState.data.post.text, props.createState.data.post.title, props.createState.data.urls, props.createState.isEditing]",{"range":"249","text":"250"},"Update the dependencies array to be: [props.creatorId]",{"range":"251","text":"252"},"Update the dependencies array to be: [props.movieId]",{"range":"253","text":"254"},[3186,3202],"[props.post._id, props.post.movieIds]",[3182,3198],[3697,3699],"[props.createState.data.post.fileIds, props.createState.data.post.movieIds, props.createState.data.post.rating, props.createState.data.post.text, props.createState.data.post.title, props.createState.data.urls, props.createState.isEditing]",[1483,1485],"[props.creatorId]",[2025,2027],"[props.movieId]"]