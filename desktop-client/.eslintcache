[{"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\index.js":"1","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\App.js":"2","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Home.js":"3","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PageNotFoundError.js":"4","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Profile.js":"5","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Posts.js":"6","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Login.js":"7","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Navbar.js":"8","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostTypeContext.js":"9","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\CreateBox.js":"10","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\GeneralBox.js":"11","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\RecommendationBox.js":"12","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\AskForSuggestionsBox.js":"13","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\DiaryBox.js":"14","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\Container.js":"15","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\MovieSearch.js":"16","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\AskForSuggestionsBox.js":"17","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\RecommendationBox.js":"18","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\GeneralBox.js":"19","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\DiaryBox.js":"20","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\SelectedImage.js":"21","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoForm.js":"22","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\Comment.js":"23","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoBox.js":"24","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Movie.js":"25","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostsFetchTypeContext.js":"26","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\MovieInfoBox.js":"27"},{"size":224,"mtime":1609453553930,"results":"28","hashOfConfig":"29"},{"size":1996,"mtime":1609632343390,"results":"30","hashOfConfig":"29"},{"size":1807,"mtime":1609617482442,"results":"31","hashOfConfig":"29"},{"size":125,"mtime":1609612224979,"results":"32","hashOfConfig":"29"},{"size":2732,"mtime":1609689887540,"results":"33","hashOfConfig":"29"},{"size":7540,"mtime":1609616674269,"results":"34","hashOfConfig":"29"},{"size":913,"mtime":1608740557737,"results":"35","hashOfConfig":"29"},{"size":2898,"mtime":1609632108022,"results":"36","hashOfConfig":"29"},{"size":187,"mtime":1609437659144,"results":"37","hashOfConfig":"29"},{"size":2070,"mtime":1609107597096,"results":"38","hashOfConfig":"29"},{"size":9692,"mtime":1609689588354,"results":"39","hashOfConfig":"29"},{"size":9152,"mtime":1609689597193,"results":"40","hashOfConfig":"29"},{"size":7923,"mtime":1609689603284,"results":"41","hashOfConfig":"29"},{"size":10029,"mtime":1609689582016,"results":"42","hashOfConfig":"29"},{"size":8493,"mtime":1609461426966,"results":"43","hashOfConfig":"29"},{"size":2676,"mtime":1609608469168,"results":"44","hashOfConfig":"29"},{"size":5694,"mtime":1609616393082,"results":"45","hashOfConfig":"29"},{"size":8193,"mtime":1609616384057,"results":"46","hashOfConfig":"29"},{"size":6782,"mtime":1609616372503,"results":"47","hashOfConfig":"29"},{"size":7205,"mtime":1609616374026,"results":"48","hashOfConfig":"29"},{"size":2478,"mtime":1609107597065,"results":"49","hashOfConfig":"29"},{"size":8162,"mtime":1609631732599,"results":"50","hashOfConfig":"29"},{"size":3218,"mtime":1609528024272,"results":"51","hashOfConfig":"29"},{"size":2104,"mtime":1609689679826,"results":"52","hashOfConfig":"29"},{"size":1523,"mtime":1609686230090,"results":"53","hashOfConfig":"29"},{"size":153,"mtime":1609599865536,"results":"54","hashOfConfig":"29"},{"size":3022,"mtime":1609688555372,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"ttzoo",{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"58"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"58"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"58"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\index.js",[],["115","116"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\App.js",["117","118"],"import { Route, Switch } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport Home from './components/Home';\r\nimport Profile from './components/Profile';\r\nimport Movie from './components/Movie';\r\nimport Navbar from './components/Navbar';\r\nimport PageNotFoundError from './components/PageNotFoundError';\r\nimport './App.scss';\r\n\r\nexport default function App(props) {\r\n  const [displayNavbar, setDisplayNavbar] = useState(false);\r\n  const [userId, setUserId] = useState();\r\n  const [creatorId, setCreatorId] = useState();\r\n  const [movieId, setMovieId] = useState();\r\n\r\n  function handleChangeDisplayNavbar(display) {\r\n    if (display) {\r\n      setDisplayNavbar(true);\r\n    } else {\r\n      setDisplayNavbar(false);\r\n    }\r\n  }\r\n\r\n  function handleChangeCreatorId(id) {\r\n    setCreatorId(id);\r\n  }\r\n\r\n  function handleChangeMovieId(id) {\r\n    setMovieId(id);\r\n  }\r\n\r\n  function handleChangeUserId(id) {\r\n    setUserId(id);\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      {displayNavbar && <Navbar\r\n        userId={userId}\r\n        handleChangeCreatorId={handleChangeCreatorId}\r\n        handleChangeMovieId={handleChangeMovieId}\r\n      />}\r\n      <Switch>\r\n        <Route path=\"/\" exact render={(props) => {\r\n          return <Home\r\n            handleChangeDisplayNavbar={handleChangeDisplayNavbar}\r\n            handleChangeCreatorId={handleChangeCreatorId}\r\n            handleChangeMovieId={handleChangeMovieId}\r\n            handleChangeUserId={handleChangeUserId}\r\n            {...props} />\r\n        }}/>\r\n        <Route path=\"/profile/:creatorId\" exact render={(props) => {\r\n          return <Profile\r\n            handleChangeDisplayNavbar={handleChangeDisplayNavbar}\r\n            {...props}/>\r\n        }}/>\r\n        <Route path=\"/movie/:movieId\" exact render={(props) => {\r\n          return <Movie\r\n            handleChangeDisplayNavbar={handleChangeDisplayNavbar}\r\n            {...props}/>\r\n        }}/>\r\n\t      <Route component={PageNotFoundError} />\r\n      </Switch>\r\n    </main>\r\n  )\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Home.js",["119"],"import { useEffect, useState, useContext } from 'react';\r\nimport Posts from './Posts';\r\nimport Login from './Login';\r\nimport UserInfoForm from './UserInfoForm';\r\nimport PostsFetchTypeContext from './PostsFetchTypeContext';\r\n\r\nexport default function Home(props) {\r\n  const USER_NOT_SET = \"userNotSet\";\r\n  const [user, setUser] = useState(USER_NOT_SET);\r\n  const [paddingTop, setPaddingTop] = useState(\"0em\");\r\n  const PostsFetchType = useContext(PostsFetchTypeContext);\r\n  const {handleChangeUserId, handleChangeDisplayNavbar} = props;\r\n  useEffect(() => {\r\n    fetch('/auth/isLoggedIn', {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(res => {\r\n      if (res !== undefined && res.user.nickname !== undefined) {\r\n        handleChangeDisplayNavbar(true);\r\n        handleChangeUserId(res.user._id);\r\n        setPaddingTop(\"5em\");\r\n        setUser(res.user);\r\n      } else if (res === undefined) {\r\n        handleChangeDisplayNavbar(false);\r\n        setUser(res);\r\n      } else if (res.user.nickname === undefined) {\r\n        handleChangeDisplayNavbar(false);\r\n        setUser(res.user);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }, [handleChangeUserId]);\r\n\r\n  function renderPage() {\r\n    if (user !== USER_NOT_SET && user !== undefined) {\r\n      if (user.nickname) {\r\n        return <Posts user={user} postRoute={PostsFetchType.ALL}/>;\r\n      }\r\n      return <UserInfoForm user={user}/>\r\n    } else {\r\n      return <Login />;\r\n    }\r\n  }\r\n\r\n  return <div id=\"feed\" style={{position: \"relative\", padding: \"1em\", textAlign: \"center\", paddingTop: paddingTop}}>\r\n      {user !== USER_NOT_SET && renderPage()}\r\n    </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PageNotFoundError.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Profile.js",["120","121","122"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Posts.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Login.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Navbar.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostTypeContext.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\CreateBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\GeneralBox.js",["123"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\RecommendationBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\AskForSuggestionsBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\DiaryBox.js",["124"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\Container.js",["125"],"import DiaryBox from './DiaryBox';\r\nimport AskForSuggestionsBox from './AskForSuggestionsBox';\r\nimport GeneralBox from './GeneralBox';\r\nimport RecommendationBox from './RecommendationBox';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Backspace from '@material-ui/icons/Backspace'\r\nimport MovieSearch from './MovieSearch';\r\nimport {useState, useContext, useEffect} from 'react';\r\nimport PostTypeContext from '../PostTypeContext';\r\n\r\nexport default function Container(props) {\r\n  const [isSearchingMovie, setSearchingMovie] = useState(false);\r\n  const [moviesList, setMoviesList] = useState([]);\r\n  const [willBeDeletedFiles, setWillBeDeletedFiles] = useState([]);\r\n  const [deletedExistingFiles, setDeletedExistingFiles] = useState([]);\r\n\r\n  const [createInput, setCreateInput] = useState({\r\n    diaryTitle: \"\",\r\n    text: \"\",\r\n    rating: 5,\r\n    uploadedFiles: [],\r\n    chosenMovies: [],\r\n    movieTitleInputValue: \"\"\r\n  })\r\n\r\n  const photoGalleryStylings = [{\r\n      width: \"50%\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    },\r\n    {\r\n    }]\r\n\r\n  const PostType = useContext(PostTypeContext);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n    async function fetchData() {\r\n      if (props.createState.isEditing) {\r\n        const movieIds = props.createState.data.post.movieIds;\r\n        const promises = [];\r\n        for (var i = 0; i < movieIds.length; i++) {\r\n          const movieDataRaw = await fetch(\"https://api.themoviedb.org/3/movie/\" + movieIds[i] + \"?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US\");\r\n          if (movieDataRaw === false) {\r\n            continue;\r\n          }\r\n          const movieData = await movieDataRaw.json();\r\n          const title = movieData.title ? movieData.title : movieData.name;\r\n          promises.push({id: movieIds[i], title: title});\r\n        }\r\n        const resolved = await Promise.all(promises);\r\n        setCreateInput(prevData => {\r\n          return {\r\n            ...prevData,\r\n            diaryTitle: props.createState.data.post.title,\r\n            rating: props.createState.data.post.rating,\r\n            text: props.createState.data.post.text,\r\n            uploadedFiles: props.createState.data.post.fileIds.map((fileId, index) => {\r\n              return {src: props.createState.data.urls[index], width: 1, height: 1, fileId: fileId};\r\n            }),\r\n            chosenMovies: resolved\r\n          }\r\n        })\r\n      }\r\n    }\r\n    fetchData();\r\n    return () => ac.abort();\r\n  });\r\n\r\n  const handleInputChange = {\r\n    handleDiaryTitleChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, diaryTitle: event.target.value};\r\n      })\r\n    },\r\n    handleTextChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, text: event.target.value};\r\n      })\r\n    },\r\n    handleRatingChange: (event) => {\r\n      setCreateInput(prevData => {\r\n        return {...prevData, rating: event.target.value};\r\n      })\r\n    },\r\n    handleUploadedFilesChange: (event) => {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n        if (re.test(file.name)) {\r\n          setCreateInput(prevData => {\r\n            return {\r\n              ...prevData,\r\n              uploadedFiles: [...prevData.uploadedFiles, {src: URL.createObjectURL(file), file: file, width: 1, height: 1}]\r\n            };\r\n          })\r\n        } else {\r\n          alert('only upload image files.')\r\n        }\r\n      }\r\n    },\r\n    handleMovieClick: (movieId, movieTitle) => {\r\n      setCreateInput(prevData => {\r\n        return {\r\n          ...prevData,\r\n          chosenMovies: [...prevData.chosenMovies, {id: movieId, title: movieTitle}]\r\n        }\r\n      })\r\n    },\r\n    handleDeleteChosenMovie: (movieId) => {\r\n      setCreateInput(prevData => {\r\n        return {\r\n          ...prevData,\r\n          chosenMovies: prevData.chosenMovies.filter(data => data.id !== movieId)\r\n        }\r\n      })\r\n    },\r\n    handleMovieTitleInput: (event) => {\r\n      const value = event.target.value;\r\n      setCreateInput(prevData => {\r\n        return {...prevData, movieTitleInputValue: value};\r\n      })\r\n      if (value.trim()) {\r\n        fetch(\"https://api.themoviedb.org/3/search/multi?api_key=ee1e60bc7d68306eef94c3adc2fdd763&language=en-US&query=\" + value)\r\n          .then(res => res.json())\r\n          .catch(console.log)\r\n          .then(res => {\r\n            setMoviesList(res.results);\r\n          })\r\n          .catch(err => console.log(err));\r\n      } else {\r\n        setMoviesList([]);\r\n      }\r\n    },\r\n    handleChooseToDeleteFile: (index) => {\r\n      setWillBeDeletedFiles(prevData => {\r\n        return [...prevData, index];\r\n      })\r\n    },\r\n    handleChooseNotToDeleteFile: (index) => {\r\n      setWillBeDeletedFiles(prevData => {\r\n        return prevData.filter(val => {\r\n          return val !== index;\r\n        })\r\n      });\r\n    },\r\n    handleDeleteChosenFiles: async () => {\r\n      const tempDeletedFiles = [...willBeDeletedFiles].sort();\r\n      const tempUploadedFiles = [...createInput.uploadedFiles];\r\n      for (var i = tempDeletedFiles.length - 1; i >= 0; i--) {\r\n        if (tempUploadedFiles[tempDeletedFiles[i]].fileId) {\r\n          await setDeletedExistingFiles(prevData => {\r\n            return [...prevData, tempUploadedFiles[tempDeletedFiles[i]].fileId];\r\n          })\r\n        }\r\n        tempUploadedFiles.splice(tempDeletedFiles[i], 1);\r\n      }\r\n      setCreateInput(prevData => {\r\n        return {...prevData, uploadedFiles: tempUploadedFiles};\r\n      })\r\n      setWillBeDeletedFiles([]);\r\n    }\r\n  }\r\n\r\n  function handleSearchFieldClick() {\r\n    setSearchingMovie(true);\r\n  }\r\n\r\n  function handleSearchFieldUnclick() {\r\n    if (isSearchingMovie) {\r\n      setSearchingMovie(false);\r\n    }\r\n  }\r\n\r\n  function getPostHeader(type) {\r\n    if (type === PostType.GENERAL) {\r\n      return \"General Post\"\r\n    } else if (type === PostType.RECOMMENDATION) {\r\n      return \"Recommendation Post\"\r\n    } else if (type === PostType.DIARY) {\r\n      return \"Diary Post\"\r\n    } else if (type === PostType.ASK_SUGGESTION) {\r\n      return \"Ask for Movie Recommendations\"\r\n    }\r\n  }\r\n\r\n  const renderProps = (param) => {\r\n    return {\r\n      createInput: createInput,\r\n      deletedExistingFiles: deletedExistingFiles,\r\n      handlePostAction: props.handlePostAction,\r\n      post: param.data ? param.data.post : null,\r\n      isEditing: param.isEditing,\r\n      handleInputChange: handleInputChange,\r\n      photoGalleryStylings: photoGalleryStylings\r\n    }\r\n  }\r\n\r\n  function renderBox(param) {\r\n    if (param.type === PostType.GENERAL) {\r\n      return <GeneralBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.DIARY) {\r\n      return <DiaryBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.RECOMMENDATION) {\r\n      return <RecommendationBox renderProps={renderProps(param)} />\r\n    } else if (param.type === PostType.ASK_SUGGESTION) {\r\n      return <AskForSuggestionsBox renderProps={renderProps(param)} />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"createContainer\">\r\n      <IconButton style={{position: \"absolute\", top: \"10px\", right: \"10px\"}} onClick={props.handleExitClick}>\r\n        <Clear/>\r\n      </IconButton>\r\n      <p style={{fontFamily: \"Pacifico\", fontSize: \"1.5em\"}}>{getPostHeader(props.createState.type)}</p>\r\n      {isSearchingMovie && <Button\r\n        style={{\r\n          backgroundColor: \"black\",\r\n          color: \"white\",\r\n          position: \"absolute\",\r\n          top: \"30px\",\r\n          left: \"30px\",\r\n        }}\r\n        variant=\"contained\"\r\n        startIcon={<Backspace />}\r\n        onClick={handleSearchFieldUnclick}>Back</Button>}\r\n      {props.createState.type !== PostType.ASK_SUGGESTION && <TextField\r\n        label=\"Movie title\"\r\n        variant=\"outlined\"\r\n        style={{width: \"90%\"}}\r\n        onClick={handleSearchFieldClick}\r\n        onChange={handleInputChange.handleMovieTitleInput}\r\n        value={!isSearchingMovie ? \"\" : createInput.movieTitleInputValue}/>}\r\n      {isSearchingMovie ? <MovieSearch\r\n        postType={props.createState.type}\r\n        createInput={createInput}\r\n        moviesList={moviesList}\r\n        handleMovieClick={handleInputChange.handleMovieClick}/> : renderBox(props.createState)}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\MovieSearch.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\AskForSuggestionsBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\RecommendationBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\GeneralBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\create\\DiaryBox.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\SelectedImage.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoForm.js",["126"],"import { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {useState, useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from 'react-avatar-edit';\r\nimport ReactAvatar from '@material-ui/core/Avatar';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  large: {\r\n    width: theme.spacing(17),\r\n    height: theme.spacing(17),\r\n  },\r\n}));\r\n\r\nexport default function UserInfoForm(props) {\r\n  const classes = useStyles();\r\n  const [nickname, setNickname] = useState(props.user.nickname ? props.user.nickname : \"\");\r\n  const [regexAlert, setRegexAlert] = useState(false);\r\n  const [nicknameExistsAlert, setNicknameExistsAlert] = useState(false);\r\n  const [imageUploadAlert, setImageUploadAlert] = useState(false);\r\n  const [unableDeleteAccount, setUnableDeleteAccount] = useState(false);\r\n  const [avatarData, setAvatarData] = useState({\r\n    preview: null,\r\n    src: null,\r\n    file: null,\r\n    currentExtension: null,\r\n    originalFile: null\r\n  });\r\n\r\n  function onClose() {\r\n    setAvatarData({preview: null, src: null, file: null, originalFile: null});\r\n  }\r\n\r\n  async function onCrop(preview) {\r\n    setAvatarData(prevData => {\r\n      return {...prevData, preview};\r\n    })\r\n    const currentExtension = avatarData.currentExtension;\r\n    const file = await urltoFile(preview, 'userImage.' + currentExtension, 'image/' + currentExtension)\r\n    setAvatarData(prevData => {\r\n      return {...prevData, file: file};\r\n    })\r\n  }\r\n\r\n  function onBeforeFileLoad(event) {\r\n    const re = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;\r\n    const file = event.target.files[0];\r\n    if (file.size > 71680) {\r\n      setImageUploadAlert(true);\r\n      event.target.value = \"\";\r\n    } else if (!re.test(file.name)) {\r\n      setImageUploadAlert(true);\r\n    } else {\r\n      const separator = /(?:\\.([^.]+))?$/;\r\n      setAvatarData(prevData => {\r\n        return {...prevData, currentExtension: separator.exec(file.name)[1], originalFile: file};\r\n      })\r\n    }\r\n  }\r\n\r\n  function urltoFile(url, filename, mimeType){\r\n    return (fetch(url)\r\n        .then(function(res){return res.arrayBuffer();})\r\n        .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n    );\r\n  }\r\n\r\n  function handleNicknameChange(event) {\r\n    console.log(event.target.value);\r\n    if (event.target.value.length > 30) {\r\n      setNickname(event.target.value.slice(0, 30));\r\n    } else {\r\n      setNickname(event.target.value);\r\n    }\r\n  }\r\n\r\n  function submit() {\r\n    document.getElementById('submit').click();\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (props.userInfoFormDisplayed && nickname === props.user.nickname) {\r\n      props.undisplayUserInfoForm();\r\n    }\r\n    setNicknameExistsAlert(false);\r\n    setImageUploadAlert(false);\r\n    if (nickname.length === 0) {\r\n      return;\r\n    }\r\n    var re = /^\\w+$/;\r\n    if (!re.test(nickname)) {\r\n      setRegexAlert(true);\r\n    } else {\r\n      const formData = new FormData();\r\n      formData.append('nickname', nickname);\r\n      if (avatarData.file) {\r\n        formData.append('userProfileImageCropped', avatarData.file);\r\n        formData.append('userProfileImageOriginal', avatarData.originalFile);\r\n      }\r\n      if (props.userInfoFormDisplayed) {\r\n        fetch('/user/editProfile', {method: 'POST', body: formData})\r\n            .then(res => res.json())\r\n            .catch(err => console.log(err))\r\n            .then(nicknameExists => {\r\n              if (nicknameExists === true) {\r\n                setNicknameExistsAlert(true);\r\n              } else {\r\n                window.location.href = \"/profile/\" + props.user._id;\r\n              }\r\n            })\r\n      } else {\r\n        fetch('/user/createProfile', {method: 'POST', body: formData})\r\n            .then(res => res.json())\r\n            .catch(err => console.log(err))\r\n            .then(nicknameExists => {\r\n              if (nicknameExists) {\r\n                setNicknameExistsAlert(true);\r\n              } else {\r\n                window.location.href = \"/\";\r\n              }\r\n            });\r\n      }\r\n    }\r\n  }\r\n\r\n  function deleteAccount() {\r\n    fetch('/user/delete', {\r\n      method: \"POST\"\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n    .then(isDeleted => {\r\n      if (isDeleted) {\r\n        window.open(\"/auth/logout\", \"_self\");\r\n      } else {\r\n        setUnableDeleteAccount(true);\r\n      }\r\n    })\r\n  }\r\n\r\n  return <div style={{\r\n        position: \"absolute\",\r\n        zIndex: \"9000000000000000000000000000000000000000\",\r\n        width: \"500px\",\r\n        height: \"590px\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        backgroundColor: \"white\",\r\n        top: \"3em\",\r\n        bottom: \"0\",\r\n        left: \"0\",\r\n        right: \"0\",\r\n        borderRadius: \"5px\",\r\n        boxShadow: \"0 0 20px #999\",\r\n        paddingLeft: \"5px\",\r\n        paddingRight: \"5px\",\r\n        paddingBottom: \"2em\",\r\n        overflow: \"auto\"}}>\r\n        {props.userInfoFormDisplayed && <IconButton style={{top: \"10px\", right: \"10px\", position: \"absolute\", zIndex: \"4000000000000000000000000\"}} onClick={props.undisplayUserInfoForm}>\r\n          <Clear/>\r\n        </IconButton>}\r\n        <h1 style={{userSelect: \"none\"}}>Movelp</h1>\r\n        {(props.userInfoFormDisplayed && props.user.profileImageUrlCropped) && <ReactAvatar\r\n            style={{borderStyle: \"solid\", borderColor: \"#F0F2F5\", borderWidth: \"2px\", margin: \"auto\"}}\r\n            alt={props.user.nickname}\r\n            src={props.user.profileImageUrlCropped ? props.user.profileImageUrlCropped : process.env.PUBLIC_URL + '/images/loginImage.png'}\r\n            className={classes.large} />}\r\n        <p style={{fontFamily: 'roboto'}}>CREATE A NICKNAME</p>\r\n        <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n          <TextField\r\n            label=\"Nickname\"\r\n            variant=\"outlined\"\r\n            name=\"nickname\"\r\n            value={nickname}\r\n            onChange={handleNicknameChange}\r\n            style={{width: \"90%\"}}/>\r\n          {regexAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Nicknames can only use letters, numbers, and underscores.</p>}\r\n          {nicknameExistsAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>This nickname isn't available. Please try another.</p>}\r\n\r\n          <p style={{fontFamily: 'roboto', margin: \"auto\", marginTop: \"2em\"}}>UPLOAD A PROFILE PICTURE</p>\r\n          {imageUploadAlert && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Uploaded image doesn't match requirements.</p>}\r\n          <div style={{marginLeft: \"auto\", marginRight: \"auto\", width: \"60%\"}}>\r\n            <Avatar\r\n              minCropRadius={80}\r\n              width={300}\r\n              height={250}\r\n              onCrop={onCrop}\r\n              onClose={onClose}\r\n              onBeforeFileLoad={onBeforeFileLoad}\r\n              src={avatarData.src}\r\n            />\r\n          </div>\r\n          {avatarData.preview && <div style={{margin: \"auto\"}}><img src={avatarData.preview} alt=\"Preview\" /></div>}\r\n          {unableDeleteAccount && <p style={{color: 'red', margin: 'auto', fontFamily: 'roboto'}}>Unable to delete account.</p>}\r\n          {props.userInfoFormDisplayed && <Button\r\n            style={{backgroundColor: \"black\", color: \"white\", marginTop: \"1em\"}}\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            onClick={deleteAccount}>delete account</Button>}\r\n          <Button\r\n            style={{backgroundColor: \"black\", color: \"white\", marginTop: \"1em\"}}\r\n            variant=\"contained\"\r\n            className={classes.button}\r\n            onClick={submit}>{props.userInfoFormDisplayed ? \"edit\" : \"submit\"}</Button>\r\n          <input style={{display: \"none\"}} type=\"submit\" id=\"submit\"/>\r\n        </form>\r\n    </div>\r\n}\r\n","C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\display\\Comment.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\UserInfoBox.js",["127","128"],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\Movie.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\PostsFetchTypeContext.js",[],"C:\\Users\\noogler\\Desktop\\movelp\\desktop-client\\src\\components\\MovieInfoBox.js",["129","130","131","132","133","134"],{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","replacedBy":"138"},{"ruleId":"139","severity":1,"message":"140","line":13,"column":10,"nodeType":"141","messageId":"142","endLine":13,"endColumn":19},{"ruleId":"139","severity":1,"message":"143","line":14,"column":10,"nodeType":"141","messageId":"142","endLine":14,"endColumn":17},{"ruleId":"144","severity":1,"message":"145","line":38,"column":6,"nodeType":"146","endLine":38,"endColumn":26,"suggestions":"147"},{"ruleId":"139","severity":1,"message":"148","line":13,"column":10,"nodeType":"141","messageId":"142","endLine":13,"endColumn":29},{"ruleId":"139","severity":1,"message":"149","line":13,"column":31,"nodeType":"141","messageId":"142","endLine":13,"endColumn":53},{"ruleId":"139","severity":1,"message":"150","line":15,"column":12,"nodeType":"141","messageId":"142","endLine":15,"endColumn":32},{"ruleId":"144","severity":1,"message":"151","line":78,"column":6,"nodeType":"146","endLine":78,"endColumn":22,"suggestions":"152"},{"ruleId":"144","severity":1,"message":"151","line":77,"column":6,"nodeType":"146","endLine":77,"endColumn":22,"suggestions":"153"},{"ruleId":"154","severity":1,"message":"155","line":155,"column":41,"nodeType":"156","messageId":"157","endLine":157,"endColumn":12},{"ruleId":"139","severity":1,"message":"158","line":3,"column":19,"nodeType":"141","messageId":"142","endLine":3,"endColumn":28},{"ruleId":"139","severity":1,"message":"159","line":3,"column":8,"nodeType":"141","messageId":"142","endLine":3,"endColumn":20},{"ruleId":"139","severity":1,"message":"160","line":4,"column":8,"nodeType":"141","messageId":"142","endLine":4,"endColumn":18},{"ruleId":"139","severity":1,"message":"161","line":2,"column":8,"nodeType":"141","messageId":"142","endLine":2,"endColumn":14},{"ruleId":"139","severity":1,"message":"159","line":3,"column":8,"nodeType":"141","messageId":"142","endLine":3,"endColumn":20},{"ruleId":"139","severity":1,"message":"160","line":4,"column":8,"nodeType":"141","messageId":"142","endLine":4,"endColumn":18},{"ruleId":"139","severity":1,"message":"162","line":5,"column":8,"nodeType":"141","messageId":"142","endLine":5,"endColumn":14},{"ruleId":"139","severity":1,"message":"163","line":16,"column":9,"nodeType":"141","messageId":"142","endLine":16,"endColumn":16},{"ruleId":"144","severity":1,"message":"164","line":54,"column":6,"nodeType":"146","endLine":54,"endColumn":8,"suggestions":"165"},"no-native-reassign",["166"],"no-negated-in-lhs",["167"],"no-unused-vars","'creatorId' is assigned a value but never used.","Identifier","unusedVar","'movieId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleChangeDisplayNavbar'. Either include it or remove the dependency array.","ArrayExpression",["168"],"'unableDeleteAccount' is assigned a value but never used.","'setUnableDeleteAccount' is assigned a value but never used.","'setEditedUserProfile' is defined but never used.","React Hook useEffect has a missing dependency: 'props.post.movieIds'. Either include it or remove the dependency array.",["169"],["170"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'i'.","ArrowFunctionExpression","unsafeRefs","'useEffect' is defined but never used.","'SettingsIcon' is defined but never used.","'IconButton' is defined but never used.","'Avatar' is defined but never used.","'Button' is defined but never used.","'classes' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props.movieId'. Either include it or remove the dependency array.",["171"],"no-global-assign","no-unsafe-negation",{"desc":"172","fix":"173"},{"desc":"174","fix":"175"},{"desc":"174","fix":"176"},{"desc":"177","fix":"178"},"Update the dependencies array to be: [handleChangeDisplayNavbar, handleChangeUserId]",{"range":"179","text":"180"},"Update the dependencies array to be: [props.post._id, props.post.movieIds]",{"range":"181","text":"182"},{"range":"183","text":"182"},"Update the dependencies array to be: [props.movieId]",{"range":"184","text":"185"},[1317,1337],"[handleChangeDisplayNavbar, handleChangeUserId]",[2779,2795],"[props.post._id, props.post.movieIds]",[2775,2791],[1830,1832],"[props.movieId]"]